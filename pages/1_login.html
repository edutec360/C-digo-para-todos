<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iniciar Sesi√≥n - C√≥digo para Todos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <div class="logo-icon">
                    <i class="fas fa-code"></i>
                </div>
                <span class="logo-text">C√≥digo para Todos</span>
            </div>
            <a href="../index.html" class="back-link">
                <i class="fas fa-arrow-left"></i>
                Volver al inicio
            </a>
        </div>
    </nav>

    <main class="auth-container">
        <div class="auth-panel">
            <div class="auth-header">
                <h1 class="auth-title">¬°Bienvenido de vuelta!</h1>
                <p class="auth-subtitle">Inicia sesi√≥n para continuar tu aventura de programaci√≥n</p>
            </div>

            <div class="tab-navigation">
                <button class="tab-btn active" data-tab="login">
                    <i class="fas fa-sign-in-alt"></i>
                    Iniciar Sesi√≥n
                </button>
                <button class="tab-btn" data-tab="register">
                    <i class="fas fa-user-plus"></i>
                    Registrarse
                </button>
            </div>

            <div class="tab-content active" id="login">
                <form class="auth-form" id="loginForm">
                    <div class="social-login">
                        <button type="button" class="btn-google" id="googleLogin">
                            <i class="fab fa-google"></i>
                            Continuar con Google
                        </button>
                        <div class="divider">
                            <span>o contin√∫a con email</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="loginEmail">Email</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="loginEmail" name="email" placeholder="tu@email.com" required>
                        </div>
                        <span class="error-message" id="loginEmailError"></span>
                    </div>

                    <div class="form-group">
                        <label for="loginPassword">Contrase√±a</label>
                        <div class="input-wrapper">
                            <i class="fas fa-lock"></i>
                            <input type="password" id="loginPassword" name="password" placeholder="Tu contrase√±a" required>
                            <button type="button" class="toggle-password" data-target="loginPassword">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                        <span class="error-message" id="loginPasswordError"></span>
                    </div>

                    <div class="form-options">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" id="rememberMe" name="remember">
                            <span class="checkmark"></span>
                            Recordarme
                        </label>
                        <a href="#" class="forgot-password">¬øOlvidaste tu contrase√±a?</a>
                    </div>

                    <button type="submit" class="btn-primary btn-full">
                        <i class="fas fa-sign-in-alt"></i>
                        Iniciar Sesi√≥n
                    </button>
                </form>
            </div>

            <div class="tab-content" id="register">
                <form class="auth-form" id="registerForm">
                    <div class="social-login">
                        <button type="button" class="btn-google" id="googleRegister">
                            <i class="fab fa-google"></i>
                            Registrarse con Google
                        </button>
                        <div class="divider">
                            <span>o reg√≠strate con email</span>
                        </div>
                    </div>

                    <div class="role-selection">
                        <label>Soy:</label>
                        <div class="role-buttons">
                            <button type="button" class="role-btn active" data-role="student">
                                <i class="fas fa-graduation-cap"></i>
                                Estudiante
                            </button>
                            <button type="button" class="role-btn" data-role="teacher">
                                <i class="fas fa-chalkboard-teacher"></i>
                                Docente
                            </button>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="fullName">Nombre completo</label>
                        <div class="input-wrapper">
                            <i class="fas fa-user"></i>
                            <input type="text" id="fullName" name="fullName" placeholder="Tu nombre completo" required>
                        </div>
                        <span class="error-message" id="fullNameError"></span>
                    </div>

                    <div class="form-group">
                        <label for="registerEmail">Email</label>
                        <div class="input-wrapper">
                            <i class="fas fa-envelope"></i>
                            <input type="email" id="registerEmail" name="email" placeholder="tu@email.com" required>
                        </div>
                        <span class="error-message" id="registerEmailError"></span>
                    </div>

                    <div class="student-fields">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="age">Edad</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-birthday-cake"></i>
                                    <select id="age" name="age" required>
                                        <option value="">Selecciona tu edad</option>
                                        <option value="15">15 a√±os</option>
                                        <option value="16">16 a√±os</option>
                                        <option value="17">17 a√±os</option>
                                        <option value="18">18 a√±os</option>
                                        <option value="19">19 a√±os</option>
                                        <option value="20">20 a√±os</option>
                                        <option value="21">21 a√±os</option>
                                        <option value="22">22 a√±os</option>
                                        <option value="23">23 a√±os</option>
                                        <option value="24">24 a√±os</option>
                                        <option value="25">25 a√±os</option>
                                        <option value="26">26 a√±os</option>
                                        <option value="27">27 a√±os</option>
                                        <option value="28">28 a√±os</option>
                                        <option value="29">29 a√±os</option>
                                        <option value="30">30 a√±os</option>
                                        <option value="31+">31+ a√±os</option>
                                    </select>
                                </div>
                                <span class="error-message" id="ageError"></span>
                            </div>

                            <div class="form-group">
                                <label for="educationLevel">Nivel educativo</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-school"></i>
                                    <select id="educationLevel" name="educationLevel" required>
                                        <option value="">Selecciona tu nivel</option>
                                        <option value="preparatoria">Preparatoria</option>
                                        <option value="universidad">Universidad</option>
                                    </select>
                                </div>
                                <span class="error-message" id="educationLevelError"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="area">√Årea de procedencia</label>
                            <div class="input-wrapper">
                                <i class="fas fa-books"></i>
                                <select id="area" name="area" required>
                                    <option value="">Primero selecciona tu nivel educativo</option>
                                </select>
                            </div>
                            <span class="error-message" id="areaError"></span>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="institution">Instituci√≥n</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-university"></i>
                                    <select id="institution" name="institution" required>
                                        <option value="">Selecciona tu instituci√≥n</option>
                                        <option value="unam">UNAM</option>
                                        <option value="uv">Universidad Veracruzana</option>
                                        <option value="ipn">IPN</option>
                                        <option value="itesm">Tecnol√≥gico de Monterrey</option>
                                        <option value="uag">Universidad Aut√≥noma de Guadalajara</option>
                                        <option value="otra">Otra</option>
                                    </select>
                                </div>
                                <span class="error-message" id="institutionError"></span>
                            </div>

                            <div class="form-group">
                                <label for="semester">Semestre/A√±o actual</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-calendar-alt"></i>
                                    <select id="semester" name="semester" required>
                                        <option value="">Selecciona</option>
                                        <option value="1">1¬∞ Semestre</option>
                                        <option value="2">2¬∞ Semestre</option>
                                        <option value="3">3¬∞ Semestre</option>
                                        <option value="4">4¬∞ Semestre</option>
                                        <option value="5">5¬∞ Semestre</option>
                                        <option value="6">6¬∞ Semestre</option>
                                        <option value="7">7¬∞ Semestre</option>
                                        <option value="8">8¬∞ Semestre</option>
                                        <option value="9">9¬∞ Semestre</option>
                                        <option value="10">10¬∞ Semestre</option>
                                    </select>
                                </div>
                                <span class="error-message" id="semesterError"></span>
                            </div>
                        </div>
                    </div>

                    <div class="teacher-fields" style="display: none;">
                        <div class="form-group">
                            <label for="teacherArea">√Årea universitaria</label>
                            <div class="input-wrapper">
                                <i class="fas fa-atom"></i>
                                <select id="teacherArea" name="teacherArea">
                                    <option value="">Selecciona tu √°rea</option>
                                    <option value="artes">Artes</option>
                                    <option value="biologicas">Ciencias Biol√≥gicas y Agropecuarias</option>
                                    <option value="salud">Ciencias de la Salud</option>
                                    <option value="economico">Econ√≥mico-Administrativas</option>
                                    <option value="humanidades">Humanidades</option>
                                    <option value="tecnica">T√©cnica</option>
                                    <option value="educacion">Educaci√≥n</option>
                                </select>
                            </div>
                            <span class="error-message" id="teacherAreaError"></span>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="teacherInstitution">Instituci√≥n</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-university"></i>
                                    <select id="teacherInstitution" name="teacherInstitution">
                                        <option value="">Selecciona tu instituci√≥n</option>
                                        <option value="unam">UNAM</option>
                                        <option value="uv">Universidad Veracruzana</option>
                                        <option value="ipn">IPN</option>
                                        <option value="itesm">Tecnol√≥gico de Monterrey</option>
                                        <option value="uag">Universidad Aut√≥noma de Guadalajara</option>
                                        <option value="otra">Otra</option>
                                    </select>
                                </div>
                                <span class="error-message" id="teacherInstitutionError"></span>
                            </div>

                            <div class="form-group">
                                <label for="department">Departamento/Facultad</label>
                                <div class="input-wrapper">
                                    <i class="fas fa-building"></i>
                                    <input type="text" id="department" name="department" placeholder="Ej: Sistemas Computacionales">
                                </div>
                                <span class="error-message" id="departmentError"></span>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="experience">A√±os de experiencia docente</label>
                            <div class="input-wrapper">
                                <i class="fas fa-clock"></i>
                                <select id="experience" name="experience">
                                    <option value="">Selecciona tu experiencia</option>
                                    <option value="0-1">Menos de 1 a√±o</option>
                                    <option value="1-3">1-3 a√±os</option>
                                    <option value="3-5">3-5 a√±os</option>
                                    <option value="5-10">5-10 a√±os</option>
                                    <option value="10+">M√°s de 10 a√±os</option>
                                </select>
                            </div>
                            <span class="error-message" id="experienceError"></span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="registerPassword">Contrase√±a</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="registerPassword" name="password" placeholder="M√≠nimo 8 caracteres" required>
                                <button type="button" class="toggle-password" data-target="registerPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <div class="password-strength" id="passwordStrength">
                                <div class="strength-bar">
                                    <div class="strength-fill"></div>
                                </div>
                                <span class="strength-text">Introduce una contrase√±a</span>
                            </div>
                            <span class="error-message" id="registerPasswordError"></span>
                        </div>

                        <div class="form-group">
                            <label for="confirmPassword">Confirmar contrase√±a</label>
                            <div class="input-wrapper">
                                <i class="fas fa-lock"></i>
                                <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Repite tu contrase√±a" required>
                                <button type="button" class="toggle-password" data-target="confirmPassword">
                                    <i class="fas fa-eye"></i>
                                </button>
                            </div>
                            <span class="error-message" id="confirmPasswordError"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="checkbox-wrapper">
                            <input type="checkbox" id="terms" name="terms" required>
                            <span class="checkmark"></span>
                            Acepto los <a href="#" class="terms-link">t√©rminos y condiciones</a> y la <a href="#" class="terms-link">pol√≠tica de privacidad</a>
                        </label>
                        <span class="error-message" id="termsError"></span>
                    </div>

                    <button type="submit" class="btn-primary btn-full">
                        <i class="fas fa-user-plus"></i>
                        Crear cuenta
                    </button>
                </form>
            </div>
        </div>

        </main>

    <div class="modal" id="successModal">
        <div class="modal-overlay">
            <div class="modal-content success">
                <div class="modal-icon">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3>¬°Cuenta creada exitosamente!</h3>
                <p>Bienvenido a C√≥digo para Todos. Te dirigiremos al examen diagn√≥stico para personalizar tu experiencia.</p>
                <button class="btn-primary" id="continueBtn">
                    <i class="fas fa-arrow-right"></i>
                    Continuar al diagn√≥stico
                </button>
            </div>
        </div>
    </div>
    <style>
  /* CSS se copiar√° aqu√≠ */
  /* Reset y Variables */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  :root {
    --primary-blue: #4a90e2;
    --primary-green: #7ed321;
    --accent-pink: #ff6b9d;
    --accent-yellow: #f5a623;
    --neutral-light: #f8f9fa;
    --neutral-dark: #2c3e50;
    --success: #27ae60;
    --warning: #f39c12;
    --error: #e74c3c;
    --text-dark: #2c3e50;
    --text-light: #7f8c8d;
    --white: #ffffff;
    --border: #e1e8ed;
    --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
    --shadow-hover: 0 8px 30px rgba(0, 0, 0, 0.15);
    --border-radius: 12px;
    --transition: all 0.3s ease;
  }

  body {
    font-family: "Inter", sans-serif;
    line-height: 1.6;
    color: var(--text-dark);
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    min-height: 100vh;
  }

  /* Navigation */
  .navbar {
    position: fixed;
    top: 0;
    width: 100%;
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    z-index: 1000;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  }

  .nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .nav-logo {
    display: flex;
    align-items: center;
    gap: 10px;
    font-weight: 600;
    font-size: 1.2rem;
    color: var(--text-dark);
  }

  .logo-icon {
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: flex-start;
    color: white;
  }

  .back-link {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    color: var(--text-light);
    text-decoration: none;
    font-weight: 500;
    transition: var(--transition);
  }

  .back-link:hover {
    color: var(--primary-blue);
    transform: translateX(-3px);
  }

  /* Main Layout */
  /* CAMBIO: Modificado para centrar el formulario */
  .auth-container {
    /* display: grid; */
    /* grid-template-columns: 1fr 1fr; */
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    padding-top: 80px;
    padding-bottom: 4rem; /* A√±adido para dar espacio */
  }

  .auth-panel {
    padding: 1rem 2rem;
    background: white;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 500px;
    margin: 0 auto;
    width: 100%;
    border-radius: var(--border-radius); /* A√±adido para que se vea bien centrado */
    box-shadow: var(--shadow); /* A√±adido para que se vea bien centrado */
  }

  /* CAMBIO: ELIMINADO .visual-panel y todos sus estilos relacionados */

  /* Auth Header */
  .auth-header {
    text-align: center;
    margin-bottom: 1rem;
  }

  .auth-title {
    font-size: 2.2rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    color: var(--text-dark);
  }

  .auth-subtitle {
    color: var(--text-light);
    font-size: 1.1rem;
  }

  /* Tab Navigation */
  .tab-navigation {
    display: flex;
    background: var(--neutral-light);
    border-radius: var(--border-radius);
    padding: 4px;
    margin-bottom: 2rem;
  }

  .tab-btn {
    flex: 1;
    border: none;
    background: transparent;
    padding: 0.8rem 1rem;
    border-radius: calc(var(--border-radius) - 4px);
    cursor: pointer;
    transition: var(--transition);
    font-weight: 500;
    color: var(--text-light);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
  }

  .tab-btn.active {
    background: white;
    color: var(--primary-blue);
    box-shadow: var(--shadow);
  }

  .tab-btn:hover:not(.active) {
    color: var(--text-dark);
  }

  /* Tab Content */
  .tab-content {
    display: none;
  }

  .tab-content.active {
    display: block;
    animation: fadeIn 0.3s ease;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Forms */
  .auth-form {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .form-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1rem;
  }

  label {
    font-weight: 500;
    color: var(--text-dark);
    font-size: 0.9rem;
  }

  .input-wrapper {
    position: relative;
    display: flex;
    align-items: center;
  }

  .input-wrapper i {
    position: absolute;
    left: 1rem;
    color: var(--text-light);
    z-index: 2;
  }

  input,
  select {
    width: 100%;
    padding: 0.9rem 1rem 0.9rem 2.8rem;
    border: 2px solid var(--border);
    border-radius: var(--border-radius);
    font-size: 1rem;
    transition: var(--transition);
    background: white;
    color: var(--text-dark);
  }

  input:focus,
  select:focus {
    outline: none;
    border-color: var(--primary-blue);
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1);
  }

  input.error,
  select.error {
    border-color: var(--error);
  }

  input.success,
  select.success {
    border-color: var(--success);
  }

  .toggle-password {
    position: absolute;
    right: 1rem;
    background: none;
    border: none;
    color: var(--text-light);
    cursor: pointer;
    padding: 0.2rem;
    border-radius: 4px;
    transition: var(--transition);
  }

  .toggle-password:hover {
    color: var(--primary-blue);
    background: rgba(74, 144, 226, 0.1);
  }

  /* Error Messages */
  .error-message {
    color: var(--error);
    font-size: 0.85rem;
    margin-top: 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    opacity: 0;
    transform: translateY(-5px);
    transition: var(--transition);
  }

  .error-message.show {
    opacity: 1;
    transform: translateY(0);
  }

  .error-message::before {
    content: "‚ö†";
    font-size: 0.8rem;
  }

  /* Social Login */
  .social-login {
    margin-bottom: 1rem;
  }

  .btn-google {
    width: 100%;
    padding: 0.9rem;
    border: 2px solid var(--border);
    border-radius: var(--border-radius);
    background: white;
    color: var(--text-dark);
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
  }

  .btn-google:hover {
    border-color: var(--primary-blue);
    box-shadow: var(--shadow);
  }

  .btn-google i {
    color: #4285f4;
  }

  .divider {
    text-align: center;
    position: relative;
    margin: 1rem 0;
  }

  .divider::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 0;
    right: 0;
    height: 1px;
    background: var(--border);
  }

  .divider span {
    background: white;
    padding: 0 1rem;
    color: var(--text-light);
    font-size: 0.9rem;
    position: relative;
    z-index: 1;
  }

  /* Role Selection */
  .role-selection {
    margin-bottom: 1rem;
  }

  .role-selection label {
    margin-bottom: 0.8rem;
    display: block;
  }

  .role-buttons {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.8rem;
  }

  .role-btn {
    padding: 1rem;
    border: 2px solid var(--border);
    border-radius: var(--border-radius);
    background: white;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    color: var(--text-dark);
  }

  .role-btn i {
    font-size: 1.5rem;
    color: var(--text-light);
    transition: var(--transition);
  }

  .role-btn.active {
    border-color: var(--primary-blue);
    background: rgba(74, 144, 226, 0.05);
    color: var(--primary-blue);
  }

  .role-btn.active i {
    color: var(--primary-blue);
  }

  .role-btn:hover:not(.active) {
    border-color: var(--text-light);
    transform: translateY(-2px);
  }

  /* Form Options */
  .form-options {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 0.5rem 0;
  }

  .checkbox-wrapper {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: 0.9rem;
    line-height: 1.4;
  }

  .checkbox-wrapper input {
    display: none;
  }

  .checkmark {
    width: 18px;
    height: 18px;
    border: 2px solid var(--border);
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    flex-shrink: 0;
  }

  .checkbox-wrapper input:checked + .checkmark {
    background: var(--primary-blue);
    border-color: var(--primary-blue);
  }

  .checkbox-wrapper input:checked + .checkmark::after {
    content: "‚úì";
    color: white;
    font-size: 0.8rem;
    font-weight: bold;
  }

  .forgot-password {
    color: var(--primary-blue);
    text-decoration: none;
    font-size: 0.9rem;
    transition: var(--transition);
  }

  .forgot-password:hover {
    text-decoration: underline;
  }

  .terms-link {
    color: var(--primary-blue);
    text-decoration: none;
  }

  .terms-link:hover {
    text-decoration: underline;
  }

  /* Password Strength */
  .password-strength {
    margin-top: 0.5rem;
  }

  .strength-bar {
    width: 100%;
    height: 4px;
    background: var(--border);
    border-radius: 2px;
    overflow: hidden;
    margin-bottom: 0.3rem;
  }

  .strength-fill {
    height: 100%;
    width: 0%;
    transition: var(--transition);
    border-radius: 2px;
  }

  .strength-text {
    font-size: 0.8rem;
    color: var(--text-light);
  }

  .strength-weak .strength-fill {
    width: 25%;
    background: var(--error);
  }

  .strength-fair .strength-fill {
    width: 50%;
    background: var(--warning);
  }

  .strength-good .strength-fill {
    width: 75%;
    background: var(--primary-blue);
  }

  .strength-strong .strength-fill {
    width: 100%;
    background: var(--success);
  }

  /* Buttons */
  .btn-primary {
    background: linear-gradient(135deg, var(--primary-blue), var(--primary-green));
    color: white;
    border: none;
    padding: 1rem 2rem;
    border-radius: var(--border-radius);
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 1rem;
  }

  .btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-hover);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-primary.loading {
    opacity: 0.7;
    cursor: not-allowed;
  }

  .btn-primary.loading::before {
    content: "";
    width: 16px;
    height: 16px;
    border: 2px solid rgba(255, 255, 255, 0.3);
    border-top: 2px solid white;
    border-radius: 50%;
    animation: spin 1s linear infinite;
    margin-right: 0.5rem;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .btn-full {
    width: 100%;
  }

  /* CAMBIO: ELIMINADOS TODOS LOS ESTILOS DE .visual-panel y sus hijos */
  /* ( .visual-content, .feature-showcase, .showcase-item, .stats-mini, .testimonial, .visual-decoration, .floating-code ) */

  /* Modal */
  .modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.7);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: var(--transition);
  }

  .modal.active {
    opacity: 1;
    pointer-events: all;
  }

  .modal-overlay {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 20px;
  }

  .modal-content {
    background: white;
    border-radius: var(--border-radius);
    padding: 2rem;
    max-width: 400px;
    width: 100%;
    text-align: center;
    transform: scale(0.8);
    transition: var(--transition);
  }

  .modal.active .modal-content {
    transform: scale(1);
  }

  .modal-content.success {
    border-top: 4px solid var(--success);
  }

  .modal-icon {
    font-size: 3rem;
    color: var(--success);
    margin-bottom: 1rem;
  }

  .modal-content h3 {
    font-size: 1.5rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-dark);
  }

  .modal-content p {
    color: var(--text-light);
    margin-bottom: 2rem;
    line-height: 1.6;
  }

  /* Responsive Design */
  @media (max-width: 1024px) {
    /* CAMBIO: .auth-container ya no es grid, no se necesita cambiar */

    /* CAMBIO: ELIMINADAS las reglas para .visual-panel, .visual-content y .feature-showcase */

    .auth-panel {
      padding: 2rem 1rem;
    }
  }

  @media (max-width: 768px) {
    .auth-panel {
      padding: 1.5rem;
      margin: 0 1rem; /* A√±adido para que no pegue a los bordes */
    }

    .auth-title {
      font-size: 1.8rem;
    }

    .form-row {
      grid-template-columns: 1fr;
    }

    .role-buttons {
      grid-template-columns: 1fr;
    }

    .form-options {
      flex-direction: column;
      gap: 1rem;
      align-items: flex-start;
    }

    /* CAMBIO: ELIMINADAS las reglas para .stats-mini y .visual-panel */
  }

  @media (max-width: 480px) {
    .auth-panel {
      padding: 1rem;
      margin: 0 0.5rem; /* Reducido para pantallas peque√±as */
    }

    .nav-container {
      padding: 1rem;
    }

    .auth-title {
      font-size: 1.5rem;
    }

    .auth-subtitle {
      font-size: 1rem;
    }

    .tab-btn {
      padding: 0.6rem 0.8rem;
      font-size: 0.9rem;
    }

    input,
    select {
      padding: 0.8rem 1rem 0.8rem 2.5rem;
    }
  }
</style>
<script>
  /* JavaScript se copiar√° aqu√≠ */
  // DOM Elements
  const tabBtns = document.querySelectorAll(".tab-btn");
  const tabContents = document.querySelectorAll(".tab-content");
  const roleBtns = document.querySelectorAll(".role-btn");
  const studentFields = document.querySelector(".student-fields");
  const teacherFields = document.querySelector(".teacher-fields");
  const educationLevelSelect = document.getElementById("educationLevel");
  const areaSelect = document.getElementById("area");
  const passwordInput = document.getElementById("registerPassword");
  const confirmPasswordInput = document.getElementById("confirmPassword");
  const passwordStrength = document.getElementById("passwordStrength");
  const loginForm = document.getElementById("loginForm");
  const registerForm = document.getElementById("registerForm");
  const successModal = document.getElementById("successModal");
  const continueBtn = document.getElementById("continueBtn");

  // Area options based on education level
  const areaOptions = {
    preparatoria: [
      { value: "fisico-matematicas", text: "Ciencias F√≠sico-Matem√°ticas" },
      { value: "quimico-biologicas", text: "Qu√≠mico-Biol√≥gicas" },
      {
        value: "humanidades-sociales",
        text: "Humanidades y Ciencias Sociales",
      },
      {
        value: "economico-administrativas",
        text: "Econ√≥mico-Administrativas",
      },
    ],
    universidad: [
      { value: "artes", text: "Artes" },
      { value: "biologicas", text: "Ciencias Biol√≥gicas y Agropecuarias" },
      { value: "salud", text: "Ciencias de la Salud" },
      { value: "economico", text: "Econ√≥mico-Administrativas" },
      { value: "humanidades", text: "Humanidades" },
      { value: "tecnica", text: "T√©cnica" },
    ],
  };

  // Current selected role
  let currentRole = "student";

  // Initialize
  document.addEventListener("DOMContentLoaded", function () {
    initializeApp();
  });

  function initializeApp() {
    setupTabNavigation();
    setupRoleSelection();
    setupFormValidation();
    setupPasswordToggle();
    setupPasswordStrength();
    setupEducationLevelChange();
    setupFormSubmissions();

    // CAMBIO: Se llama a la funci√≥n corregida
    handleURLNavigation();

    console.log("üéØ Login/Registro page loaded successfully!");
  }

  // --- FUNCIONES HELPER ---

  /**
   * Muestra un Tab espec√≠fico y oculta los dem√°s
   * @param {string} tabId - El ID del tab a mostrar ('login' o 'register')
   */
  function showTab(tabId) {
    // Actualiza botones
    tabBtns.forEach((b) => b.classList.remove("active"));
    const btn = document.querySelector(`.tab-btn[data-tab="${tabId}"]`);
    if (btn) btn.classList.add("active");

    // Actualiza contenidos
    tabContents.forEach((content) => {
      content.classList.remove("active");
      if (content.id === tabId) {
        content.classList.add("active");
      }
    });

    // Actualiza el texto del encabezado
    const authTitle = document.querySelector(".auth-title");
    const authSubtitle = document.querySelector(".auth-subtitle");

    if (tabId === "login") {
      authTitle.textContent = "¬°Bienvenido de vuelta!";
      authSubtitle.textContent =
        "Inicia sesi√≥n para continuar tu aventura de programaci√≥n";
    } else {
      authTitle.textContent = "¬°√önete a nosotros!";
      authSubtitle.textContent =
        "Crea tu cuenta y comienza a aprender Java hoy mismo";
    }
  }

  /**
   * Selecciona un Rol espec√≠fico y muestra/oculta campos
   * @param {string} roleId - El rol a seleccionar ('student' o 'teacher')
   */
  function selectRole(roleId) {
    currentRole = roleId;

    // Actualiza botones de rol
    roleBtns.forEach((b) => b.classList.remove("active"));
    const btn = document.querySelector(`.role-btn[data-role="${roleId}"]`);
    if (btn) btn.classList.add("active");

    // Muestra/oculta campos
    if (roleId === "student") {
      studentFields.style.display = "block";
      teacherFields.style.display = "none";
      setFieldsRequired(studentFields, true);
      setFieldsRequired(teacherFields, false);
    } else {
      studentFields.style.display = "none";
      teacherFields.style.display = "block";
      setFieldsRequired(studentFields, false);
      setFieldsRequired(teacherFields, true);
    }
  }

  // ================================================
  // AQU√ç EST√Å LA FUNCI√ìN CORREGIDA
  // ================================================
  /**
   * Lee la URL al cargar la p√°gina para mostrar el Tab y Rol correctos
   */
  function handleURLNavigation() {
    const fullHash = window.location.hash; // Esto ser√° algo como "#register?role=student"

    if (!fullHash) {
      // No hay hash, mostrar login por defecto
      showTab("login");
      return;
    }

    // 1. Separar el hash principal de los par√°metros
    const hashParts = fullHash.split("?");
    const tabHash = hashParts[0]; // Ser√° "#register" o "#login"
    const paramString = hashParts[1]; // Ser√° "role=student" o undefined

    // 2. Parsear los par√°metros
    const params = new URLSearchParams(paramString);
    const role = params.get("role"); // "student" o "teacher"

    // 3. Decidir qu√© mostrar
    if (tabHash === "#register") {
      showTab("register");
      if (role === "student" || role === "teacher") {
        // Si la URL especifica un rol, selecci√≥nalo
        selectRole(role);
      } else {
        // Si es solo #register, mostrar estudiante por defecto
        selectRole("student");
      }
    } else if (tabHash === "#login") {
      showTab("login");
    } else {
      // Fallback por si acaso (ej. un hash vac√≠o #)
      showTab("login");
    }
  }
  // ================================================
  // FIN DE LA FUNCI√ìN CORREGIDA
  // ================================================

  // Tab Navigation
  function setupTabNavigation() {
    tabBtns.forEach((btn) => {
      btn.addEventListener("click", () => {
        const targetTab = btn.getAttribute("data-tab");
        showTab(targetTab);
      });
    });
  }

  // Role Selection
  function setupRoleSelection() {
    roleBtns.forEach((btn) => {
      btn.addEventListener("click", () => {
        const role = btn.getAttribute("data-role");
        selectRole(role);
      });
    });
  }

  function setFieldsRequired(container, required) {
    const inputs = container.querySelectorAll("input, select");
    inputs.forEach((input) => {
      if (required) {
        input.setAttribute("required", "");
      } else {
        input.removeAttribute("required");
      }
    });
  }

  // Education Level Change Handler
  function setupEducationLevelChange() {
    if (educationLevelSelect) {
      educationLevelSelect.addEventListener("change", function () {
        const level = this.value;
        updateAreaOptions(level);
      });
    }
  }

  function updateAreaOptions(level) {
    if (!areaSelect) return;

    // Clear current options
    areaSelect.innerHTML = '<option value="">Selecciona tu √°rea</option>';

    if (level && areaOptions[level]) {
      areaOptions[level].forEach((option) => {
        const optionElement = document.createElement("option");
        optionElement.value = option.value;
        optionElement.textContent = option.text;
        areaSelect.appendChild(optionElement);
      });
      areaSelect.disabled = false;
    } else {
      areaSelect.innerHTML =
        '<option value="">Primero selecciona tu nivel educativo</option>';
      areaSelect.disabled = true;
    }
  }

  // Password Toggle
  function setupPasswordToggle() {
    const toggleButtons = document.querySelectorAll(".toggle-password");

    toggleButtons.forEach((btn) => {
      btn.addEventListener("click", function () {
        const targetId = this.getAttribute("data-target");
        const targetInput = document.getElementById(targetId);
        const icon = this.querySelector("i");

        if (targetInput.type === "password") {
          targetInput.type = "text";
          icon.classList.remove("fa-eye");
          icon.classList.add("fa-eye-slash");
        } else {
          targetInput.type = "password";
          icon.classList.remove("fa-eye-slash");
          icon.classList.add("fa-eye");
        }
      });
    });
  }

  // Password Strength
  function setupPasswordStrength() {
    if (passwordInput) {
      passwordInput.addEventListener("input", function () {
        const password = this.value;
        updatePasswordStrength(password);
      });
    }

    if (confirmPasswordInput) {
      confirmPasswordInput.addEventListener("input", function () {
        validatePasswordMatch();
      });
    }
  }

  function updatePasswordStrength(password) {
    if (!passwordStrength) return;

    const strengthBar = passwordStrength.querySelector(".strength-fill");
    const strengthText = passwordStrength.querySelector(".strength-text");

    if (password.length === 0) {
      passwordStrength.className = "password-strength";
      strengthText.textContent = "Introduce una contrase√±a";
      return;
    }

    let score = 0;
    let feedback = [];

    // Length check
    if (password.length >= 8) score++;
    else feedback.push("m√≠nimo 8 caracteres");

    // Lowercase check
    if (/[a-z]/.test(password)) score++;
    else feedback.push("una min√∫scula");

    // Uppercase check
    if (/[A-Z]/.test(password)) score++;
    else feedback.push("una may√∫scula");

    // Number check
    if (/\d/.test(password)) score++;
    else feedback.push("un n√∫mero");

    // Special character check
    if (/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password)) score++;
    else feedback.push("un car√°cter especial");

    // Update UI based on score
    passwordStrength.className = "password-strength";

    if (score <= 2) {
      passwordStrength.classList.add("strength-weak");
      strengthText.textContent = `D√©bil - Necesita: ${feedback
        .slice(0, 2)
        .join(", ")}`;
    } else if (score === 3) {
      passwordStrength.classList.add("strength-fair");
      strengthText.textContent = `Regular - Necesita: ${
        feedback[0] || "caracteres especiales"
      }`;
    } else if (score === 4) {
      passwordStrength.classList.add("strength-good");
      strengthText.textContent = "Buena - ¬°Casi perfecta!";
    } else {
      passwordStrength.classList.add("strength-strong");
      strengthText.textContent = "¬°Excelente! - Contrase√±a muy segura";
    }
  }

  function validatePasswordMatch() {
    const password = passwordInput.value;
    const confirmPassword = confirmPasswordInput.value;
    const errorElement = document.getElementById("confirmPasswordError");

    if (confirmPassword.length === 0) {
      hideError("confirmPasswordError");
      confirmPasswordInput.classList.remove("error", "success");
      return;
    }

    if (password !== confirmPassword) {
      showError("confirmPasswordError", "Las contrase√±as no coinciden");
      confirmPasswordInput.classList.add("error");
      confirmPasswordInput.classList.remove("success");
    } else {
      hideError("confirmPasswordError");
      confirmPasswordInput.classList.remove("error");
      confirmPasswordInput.classList.add("success");
    }
  }

  // Form Validation
  function setupFormValidation() {
    // Real-time validation for all inputs
    const allInputs = document.querySelectorAll("input, select");

    allInputs.forEach((input) => {
      input.addEventListener("blur", function () {
        validateField(this);
      });

      input.addEventListener("input", function () {
        if (this.classList.contains("error")) {
          validateField(this);
        }
      });
    });
  }

  function validateField(field) {
    const value = field.value.trim();
    const fieldName = field.name;
    const fieldId = field.id;
    let isValid = true;
    let errorMessage = "";

    // Required field check
    if (field.hasAttribute("required") && !value) {
      isValid = false;
      errorMessage = "Este campo es obligatorio";
    }

    // Specific validations
    switch (fieldName) {
      case "email":
        if (value && !isValidEmail(value)) {
          isValid = false;
          errorMessage = "Introduce un email v√°lido";
        }
        break;

      case "password":
        if (value && value.length < 8) {
          isValid = false;
          errorMessage = "La contrase√±a debe tener al menos 8 caracteres";
        }
        break;

      case "fullName":
        if (value && value.length < 2) {
          isValid = false;
          errorMessage = "El nombre debe tener al menos 2 caracteres";
        }
        break;

      case "age":
        const age = parseInt(value);
        const educationLevel = document.getElementById("educationLevel")?.value;
        if (value && educationLevel === "preparatoria" && (age < 15 || age > 20)) {
          isValid = false;
          errorMessage = "Edad no coherente con nivel de preparatoria";
        } else if (
          value &&
          educationLevel === "universidad" &&
          (age < 17 || age > 35)
        ) {
          isValid = false;
          errorMessage = "Edad no coherente con nivel universitario";
        }
        break;
    }

    // Update field appearance
    if (isValid) {
      field.classList.remove("error");
      field.classList.add("success");
      hideError(fieldId + "Error");
    } else {
      field.classList.add("error");
      field.classList.remove("success");
      showError(fieldId + "Error", errorMessage);
    }

    return isValid;
  }

  function isValidEmail(email) {
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailRegex.test(email);
  }

  function showError(elementId, message) {
    const errorElement = document.getElementById(elementId);
    if (errorElement) {
      errorElement.textContent = message;
      errorElement.classList.add("show");
    }
  }

  function hideError(elementId) {
    const errorElement = document.getElementById(elementId);
    if (errorElement) {
      errorElement.classList.remove("show");
    }
  }

  // Form Submissions
  function setupFormSubmissions() {
    // Login form
    if (loginForm) {
      loginForm.addEventListener("submit", function (e) {
        e.preventDefault();
        handleLogin();
      });
    }

    // Register form
    if (registerForm) {
      registerForm.addEventListener("submit", function (e) {
        e.preventDefault();
        handleRegister();
      });
    }

    // Google login/register
    document
      .getElementById("googleLogin")
      ?.addEventListener("click", handleGoogleAuth);
    document
      .getElementById("googleRegister")
      ?.addEventListener("click", handleGoogleAuth);

    // Continue button in success modal
    if (continueBtn) {
      continueBtn.addEventListener("click", function () {
        // Redirect to diagnostic page
        console.log("Redirecting to diagnostic page...");
        alert("¬°Genial! Te llevaremos al examen diagn√≥stico üß†");
        // window.location.href = 'diagnostic.html';
      });
    }
  }

  function handleLogin() {
    const email = document.getElementById("loginEmail").value;
    const password = document.getElementById("loginPassword").value;
    const remember = document.getElementById("rememberMe").checked;

    // Validate fields
    if (!email || !password) {
      alert("Por favor completa todos los campos");
      return;
    }

    if (!isValidEmail(email)) {
      showError("loginEmailError", "Email inv√°lido");
      return;
    }

    // Show loading state
    const submitBtn = loginForm.querySelector('button[type="submit"]');
    submitBtn.classList.add("loading");
    submitBtn.disabled = true;

    // Simulate API call
    setTimeout(() => {
      // Reset button state
      submitBtn.classList.remove("loading");
      submitBtn.disabled = false;

      // Mock successful login
      console.log("Login successful:", { email, remember });

      // Redirect to appropriate dashboard
      if (email.includes("profesor") || email.includes("teacher")) {
        alert("¬°Bienvenido profesor! üë©‚Äçüè´ Te llevaremos al dashboard de docentes");
        // window.location.href = 'teacher-dashboard.html';
      } else {
        alert("¬°Bienvenido! üéì Te llevaremos al dashboard de estudiantes");
         window.location.href = '2_dashboardEstudiante2.html';
      }
    }, 2000);
  }

  function handleRegister() {
    // Validate all fields
    const form = registerForm;
    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    // Check if all required fields are filled
    const requiredFields = form.querySelectorAll("[required]");
    let isValid = true;

    requiredFields.forEach((field) => {
      if (!validateField(field)) {
        isValid = false;
      }
    });

    // Additional validations
    if (!data.terms) {
      showError("termsError", "Debes aceptar los t√©rminos y condiciones");
      isValid = false;
    }

    // Password confirmation
    if (data.password !== data.confirmPassword) {
      showError("confirmPasswordError", "Las contrase√±as no coinciden");
      isValid = false;
    }

    if (!isValid) {
      alert("Por favor corrige los errores en el formulario");
      return;
    }

    // Show loading state
    const submitBtn = form.querySelector('button[type="submit"]');
    submitBtn.classList.add("loading");
    submitBtn.disabled = true;

    // Simulate API call
    setTimeout(() => {
      // Reset button state
      submitBtn.classList.remove("loading");
      submitBtn.disabled = false;

      // Mock successful registration
      console.log("Registration successful:", data);
      console.log("User role:", currentRole);

      // Show success modal
      showSuccessModal();
    }, 3000);
  }

  function handleGoogleAuth() {
    console.log("Google authentication initiated...");

    // Mock Google auth flow
    const btn = event.target.closest(".btn-google");
    btn.style.opacity = "0.7";
    btn.style.cursor = "not-allowed";

    setTimeout(() => {
      btn.style.opacity = "1";
      btn.style.cursor = "pointer";

      // Mock successful Google auth
      const userData = {
        name: "Usuario Demo",
        email: "usuario@gmail.com",
        picture: "https://via.placeholder.com/150",
      };

      console.log("Google auth successful:", userData);

      // If registering with Google, show role selection
      if (btn.id === "googleRegister") {
        alert(
          "¬°Perfecto! Ahora necesitamos algunos datos adicionales para personalizar tu experiencia üìù"
        );
        // Here you would show a simplified form with just the missing fields
      } else {
        alert("¬°Bienvenido de vuelta! üéâ Te llevaremos a tu dashboard");
      }
    }, 2000);
  }

  function showSuccessModal() {
    if (successModal) {
      successModal.classList.add("active");

      // Add confetti effect (simple version)
      createConfetti();

      // Auto-close after 10 seconds if user doesn't click
      setTimeout(() => {
        if (successModal.classList.contains("active")) {
          successModal.classList.remove("active");
          console.log("Auto-redirecting to diagnostic...");
        }
      }, 10000);
    }
  }

  function createConfetti() {
    const colors = ["#4A90E2", "#7ED321", "#FF6B9D", "#F5A623"];
    const confettiCount = 50;

    for (let i = 0; i < confettiCount; i++) {
      const confetti = document.createElement("div");
      confetti.style.position = "fixed";
      confetti.style.width = "10px";
      confetti.style.height = "10px";
      confetti.style.backgroundColor =
        colors[Math.floor(Math.random() * colors.length)];
      confetti.style.left = Math.random() * 100 + "%";
      confetti.style.top = "-10px";
      confetti.style.zIndex = "10001";
      confetti.style.pointerEvents = "none";
      confetti.style.borderRadius = "50%";

      document.body.appendChild(confetti);

      // Animate confetti
      const animation = confetti.animate(
        [
          { transform: "translateY(0px) rotate(0deg)", opacity: 1 },
          {
            transform: `translateY(${window.innerHeight + 50}px) rotate(${
              Math.random() * 360
            }deg)`,
            opacity: 0,
          },
        ],
        {
          duration: Math.random() * 2000 + 3000,
          easing: "cubic-bezier(0.25, 0.46, 0.45, 0.94)",
        }
      );

      animation.onfinish = () => {
        confetti.remove();
      };
    }
  }

  // Modal close functionality
  document.addEventListener("click", function (e) {
    if (e.target.classList.contains("modal-overlay")) {
      const modal = e.target.closest(".modal");
      if (modal) {
        modal.classList.remove("active");
      }
    }
  });

  // Escape key to close modal
  document.addEventListener("keydown", function (e) {
    if (e.key === "Escape") {
      const activeModal = document.querySelector(".modal.active");
      if (activeModal) {
        activeModal.classList.remove("active");
      }
    }
  });

  // Auto-focus on first input when tab changes
  function focusFirstInput() {
    const activeTab = document.querySelector(".tab-content.active");
    if (activeTab) {
      const firstInput = activeTab.querySelector(
        'input:not([type="hidden"]):not([type="checkbox"])'
      );
      if (firstInput) {
        setTimeout(() => firstInput.focus(), 100);
      }
    }
  }

  // Enhanced form experience
  function setupEnhancedExperience() {
    // Auto-advance on role selection
    roleBtns.forEach((btn) => {
      btn.addEventListener("click", () => {
        setTimeout(() => {
          const firstVisibleInput = document.querySelector(
            '.form-group:not([style*="display: none"]) input:not([type="hidden"]):not([type="checkbox"])'
          );
          if (firstVisibleInput) {
            firstVisibleInput.focus();
          }
        }, 300);
      });
    });

    // Smart field progression
    const inputs = document.querySelectorAll("input, select");
    inputs.forEach((input, index) => {
      input.addEventListener("keydown", function (e) {
        if (e.key === "Enter" && input.tagName !== "TEXTAREA") {
          e.preventDefault();
          const nextInput = inputs[index + 1];
          if (nextInput && !nextInput.closest('[style*="display: none"]')) {
            nextInput.focus();
          }
        }
      });
    });
  }

  // Performance monitoring
  function trackFormInteraction() {
    let startTime = Date.now();
    let interactions = 0;

    document.addEventListener("input", () => {
      interactions++;
    });

    window.addEventListener("beforeunload", () => {
      const timeSpent = (Date.now() - startTime) / 1000;
      console.log(`Form interaction summary:
        Time spent: ${timeSpent.toFixed(1)}s
        Interactions: ${interactions}
        Page: Login/Register`);
    });
  }

  // Initialize enhanced features
  document.addEventListener("DOMContentLoaded", function () {
    setupEnhancedExperience();
    trackFormInteraction();
  });

  // Add smooth scrolling for mobile
  if (window.innerWidth <= 768) {
    const navbar = document.querySelector(".navbar");
    let lastScroll = 0;

    window.addEventListener("scroll", () => {
      const currentScroll = window.pageYOffset;

      if (currentScroll > lastScroll && currentScroll > 100) {
        navbar.style.transform = "translateY(-100%)";
      } else {
        navbar.style.transform = "translateY(0)";
      }

      lastScroll = currentScroll;
    });
  }

  // Easter egg - Konami code for dev mode
  let konamiCode = [];
  const konamiSequence = [
    "ArrowUp",
    "ArrowUp",
    "ArrowDown",
    "ArrowDown",
    "ArrowLeft",
    "ArrowRight",
    "ArrowLeft",
    "ArrowRight",
    "KeyB",
    "KeyA",
  ];

  document.addEventListener("keydown", (e) => {
    konamiCode.push(e.code);

    if (konamiCode.length > konamiSequence.length) {
      konamiCode.shift();
    }

    if (konamiCode.join(",") === konamiSequence.join(",")) {
      console.log("üéÆ Developer mode activated!");
      console.log("Auto-filling form with test data...");

      // Auto-fill form with test data
      const testData = {
        fullName: "Estudiante Demo",
        email: "demo@estudiante.com",
        age: "20",
        educationLevel: "universidad",
        institution: "uv",
        semester: "3",
        password: "TestPassword123!",
        confirmPassword: "TestPassword123!",
      };

      Object.keys(testData).forEach((key) => {
        const field =
          document.getElementById(key) ||
          document.getElementById(
            `register${key.charAt(0).toUpperCase() + key.slice(1)}`
          );
        if (field) {
          field.value = testData[key];
          validateField(field);

          if (key === "educationLevel") {
            updateAreaOptions(testData[key]);
            setTimeout(() => {
              const areaField = document.getElementById("area");
              if (areaField) {
                areaField.value = "tecnica";
                validateField(areaField);
              }
            }, 100);
          }
        }
      });

      // Check terms
      const termsCheckbox = document.getElementById("terms");
      if (termsCheckbox) {
        termsCheckbox.checked = true;
      }

      konamiCode = [];
    }
  });

  // Console welcome message
  console.log(`
üîê ¬°Bienvenido al sistema de autenticaci√≥n!
üìù P√°gina: Login/Registro
üöÄ Desarrollado por EduTec360¬∞

üí° Tips:
- Usa Tab para navegar entre campos
- Enter para avanzar al siguiente campo
- Prueba el c√≥digo Konami para datos de prueba üòâ
`);

  // Additional accessibility improvements
  function setupAccessibility() {
    // Add ARIA labels dynamically
    const inputs = document.querySelectorAll("input, select");
    inputs.forEach((input) => {
      const label = input.closest(".form-group")?.querySelector("label");
      if (label && !input.getAttribute("aria-label")) {
        input.setAttribute("aria-label", label.textContent);
      }
    });

    // Announce form errors to screen readers
    const observer = new MutationObserver((mutations) => {
      mutations.forEach((mutation) => {
        if (
          mutation.type === "attributes" &&
          mutation.attributeName === "class"
        ) {
          const element = mutation.target;
          if (
            element.classList.contains("show") &&
            element.classList.contains("error-message")
          ) {
            element.setAttribute("aria-live", "polite");
            element.setAttribute("role", "alert");
          }
        }
      });
    });

    document.querySelectorAll(".error-message").forEach((errorElement) => {
      observer.observe(errorElement, { attributes: true });
    });
  }

  // Initialize accessibility features
  document.addEventListener("DOMContentLoaded", setupAccessibility);
</script>
    </body>

</html>