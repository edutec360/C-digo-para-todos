<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Java Fundamentos - Ciclos For | Código para Todos</title>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* CSS será copiado aquí */
        /* Course View CSS - Copiar en etiqueta <style> */

/* CSS Variables */
:root {
    --primary-blue: #4A90E2;
    --primary-green: #7ED321;
    --accent-pink: #FF6B9D;
    --accent-yellow: #F5A623;
    --java-color: #ED8B00;
    --success: #27AE60;
    --warning: #F39C12;
    --error: #E74C3C;
    
    /* Neutral Colors */
    --text-primary: #2C3E50;
    --text-secondary: #7F8C8D;
    --background-light: #F8F9FA;
    --neutral-light: #ECF0F1;
    --border-light: #E9ECEF;
    
    /* Shadows & Effects */
    --shadow-light: 0 2px 4px rgba(0,0,0,0.1);
    --shadow-medium: 0 4px 12px rgba(0,0,0,0.15);
    --shadow-heavy: 0 8px 24px rgba(0,0,0,0.2);
    --border-radius: 12px;
    --transition: all 0.3s ease;
    
    /* Layout */
    --sidebar-width: 320px;
    --nav-height: 70px;
}

/* Reset & Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    background: var(--background-light);
    color: var(--text-primary);
    line-height: 1.6;
}

/* Main Navigation */
.main-nav {
    background: white;
    box-shadow: var(--shadow-light);
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 100;
    height: var(--nav-height);
}

.nav-container {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 100%;
    padding: 0 30px;
    max-width: 1400px;
    margin: 0 auto;
}

.nav-left {
    display: flex;
    align-items: center;
    gap: 30px;
}

.logo {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 1.3rem;
    font-weight: 700;
    color: var(--primary-blue);
}

.logo i {
    font-size: 1.5rem;
}

/* Breadcrumb Navigation */
.breadcrumb-nav {
    margin-left: 20px;
}

.breadcrumb {
    display: flex;
    align-items: center;
    gap: 10px;
    list-style: none;
    font-size: 0.9rem;
}

.breadcrumb-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.breadcrumb-item a {
    color: var(--text-secondary);
    text-decoration: none;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 6px;
}

.breadcrumb-item a:hover {
    color: var(--primary-blue);
}

.breadcrumb-item.active {
    color: var(--text-primary);
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 6px;
}

.breadcrumb-separator {
    color: var(--text-secondary);
    font-size: 0.8rem;
}

/* Navigation Right */
.nav-right {
    display: flex;
    align-items: center;
    gap: 25px;
}

.user-progress {
    display: flex;
    align-items: center;
    gap: 15px;
}

.progress-info {
    display: flex;
    flex-direction: column;
    gap: 4px;
}

.progress-text {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

.progress-bar {
    width: 120px;
    height: 6px;
    background: var(--border-light);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--primary-blue), var(--primary-green));
    transition: width 0.6s ease;
}

.progress-percentage {
    font-size: 0.8rem;
    font-weight: 600;
    color: var(--text-primary);
}

.user-profile {
    display: flex;
    align-items: center;
    gap: 12px;
}

.user-avatar img {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: 2px solid var(--primary-blue);
}

.user-info {
    display: flex;
    flex-direction: column;
}

.user-name {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
}

.user-stars {
    font-size: 0.8rem;
    color: var(--accent-yellow);
    font-weight: 600;
}

/* Main Layout */
.main-layout {
    display: flex;
    margin-top: var(--nav-height);
    min-height: calc(100vh - var(--nav-height));
}

/* Course Sidebar */
.course-sidebar {
    width: var(--sidebar-width);
    background: white;
    box-shadow: var(--shadow-light);
    padding: 25px 20px;
    position: fixed;
    height: calc(100vh - var(--nav-height));
    overflow-y: auto;
    z-index: 50;
}

.course-header {
    display: flex;
    align-items: center;
    gap: 15px;
    padding-bottom: 20px;
    border-bottom: 2px solid var(--border-light);
    margin-bottom: 25px;
}

.course-icon {
    width: 50px;
    height: 50px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
}

.course-icon.java {
    background: linear-gradient(135deg, var(--java-color), #f4a261);
}

.course-info h3 {
    font-size: 1.2rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 4px;
}

.course-info p {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

/* Objectives Section */
.objectives-section {
    margin-bottom: 30px;
}

.objectives-toggle {
    width: 100%;
    background: var(--neutral-light);
    border: none;
    border-radius: var(--border-radius);
    padding: 15px;
    display: flex;
    align-items: center;
    gap: 12px;
    cursor: pointer;
    transition: var(--transition);
    margin-bottom: 15px;
}

.objectives-toggle:hover {
    background: var(--border-light);
    transform: translateY(-1px);
}

.objectives-toggle span {
    flex: 1;
    text-align: left;
    font-weight: 600;
    color: var(--text-primary);
}

.toggle-icon {
    transition: transform 0.3s ease;
}

.objectives-toggle.expanded .toggle-icon {
    transform: rotate(180deg);
}

.objectives-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease;
}

.objectives-content.expanded {
    max-height: 400px;
}

.objective-item {
    display: flex;
    gap: 12px;
    padding: 12px;
    margin-bottom: 10px;
    background: white;
    border-radius: 8px;
    border-left: 4px solid var(--border-light);
    transition: var(--transition);
}

.objective-item:hover {
    transform: translateX(3px);
    box-shadow: var(--shadow-light);
}

.objective-item.completed {
    border-left-color: var(--success);
    background: rgba(39, 174, 96, 0.05);
}

.objective-item.in-progress {
    border-left-color: var(--warning);
    background: rgba(243, 156, 18, 0.05);
}

.objective-item.pending {
    border-left-color: var(--border-light);
}

.objective-icon {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.8rem;
    margin-top: 2px;
}

.objective-item.completed .objective-icon {
    background: var(--success);
    color: white;
}

.objective-item.in-progress .objective-icon {
    background: var(--warning);
    color: white;
}

.objective-item.pending .objective-icon {
    background: var(--text-secondary);
    color: white;
}

.objective-text h4 {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 2px;
}

.objective-text p {
    font-size: 0.8rem;
    color: var(--text-secondary);
    line-height: 1.4;
}

/* Topic Navigation */
.topic-navigation h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 15px;
}

.topic-list {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.topic-item {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 12px;
    border-radius: 8px;
    background: white;
    border: 1px solid var(--border-light);
    transition: var(--transition);
    cursor: pointer;
    position: relative;
}

.topic-item:hover {
    border-color: var(--primary-blue);
    transform: translateY(-1px);
    box-shadow: var(--shadow-light);
}

.topic-item.completed {
    background: linear-gradient(135deg, rgba(39, 174, 96, 0.1), rgba(39, 174, 96, 0.05));
    border-color: var(--success);
}

.topic-item.current {
    background: linear-gradient(135deg, rgba(74, 144, 226, 0.1), rgba(126, 211, 33, 0.05));
    border-color: var(--primary-blue);
    border-width: 2px;
}

.topic-item.locked {
    opacity: 0.6;
    cursor: not-allowed;
    background: var(--neutral-light);
}

.topic-status {
    width: 28px;
    height: 28px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
}

.topic-item.completed .topic-status {
    background: var(--success);
    color: white;
}

.topic-item.current .topic-status {
    background: var(--primary-blue);
    color: white;
}

.topic-item.locked .topic-status {
    background: var(--text-secondary);
    color: white;
}

.topic-info {
    flex: 1;
}

.topic-info h5 {
    font-size: 0.9rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 2px;
}

.topic-progress {
    font-size: 0.8rem;
    color: var(--text-secondary);
    font-weight: 500;
}

.topic-item.completed .topic-progress {
    color: var(--success);
}

.topic-item.current .topic-progress {
    color: var(--primary-blue);
}

.current-indicator {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    background: var(--accent-pink);
    color: white;
    padding: 4px 8px;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 600;
}

/* Main Content */
.course-content {
    flex: 1;
    margin-left: var(--sidebar-width);
    padding: 30px;
    max-width: calc(100% - var(--sidebar-width));
}

/* Topic Header */
.topic-header {
    background: white;
    border-radius: var(--border-radius);
    padding: 30px;
    margin-bottom: 25px;
    box-shadow: var(--shadow-light);
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.topic-title h1 {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.topic-title h1 i {
    color: var(--primary-blue);
}

.topic-title p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    line-height: 1.5;
}

.topic-stats {
    display: flex;
    gap: 20px;
}

.stat-card {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 15px;
    background: var(--neutral-light);
    border-radius: 10px;
    min-width: 100px;
}

.stat-icon {
    width: 35px;
    height: 35px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    background: var(--primary-blue);
    color: white;
}

.stat-info {
    display: flex;
    flex-direction: column;
}

.stat-number {
    font-size: 1.1rem;
    font-weight: 700;
    color: var(--text-primary);
}

.stat-label {
    font-size: 0.8rem;
    color: var(--text-secondary);
}

/* Learning Content */
.learning-content {
    display: flex;
    flex-direction: column;
    gap: 25px;
}

/* Content Section */
.content-section {
    background: white;
    border-radius: var(--border-radius);
    overflow: hidden;
    box-shadow: var(--shadow-light);
    transition: var(--transition);
}

.content-section:hover {
    box-shadow: var(--shadow-medium);
}

.content-section.completed {
    border-left: 4px solid var(--success);
}

.content-section.current {
    border-left: 4px solid var(--primary-blue);
    box-shadow: var(--shadow-medium);
}

.content-section.locked {
    border-left: 4px solid var(--text-secondary);
    opacity: 0.7;
}

.section-header {
    display: flex;
    align-items: center;
    gap: 20px;
    padding: 20px 25px;
    background: var(--neutral-light);
    border-bottom: 1px solid var(--border-light);
}

.section-number {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--text-secondary);
    color: white;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 1.1rem;
}

.content-section.completed .section-number {
    background: var(--success);
}

.content-section.current .section-number {
    background: var(--primary-blue);
}

.section-info {
    flex: 1;
}

.section-info h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 4px;
}

.section-info p {
    font-size: 0.9rem;
    color: var(--text-secondary);
}

.section-status {
    font-size: 1.5rem;
}

.content-section.completed .section-status {
    color: var(--success);
}

.content-section.current .section-status {
    color: var(--primary-blue);
}

.content-section.locked .section-status {
    color: var(--text-secondary);
}

.section-content {
    padding: 25px;
}

/* Video Container */
.video-container {
    margin-bottom: 20px;
}

.video-placeholder {
    background: linear-gradient(135deg, var(--neutral-light), white);
    border: 2px dashed var(--border-light);
    border-radius: var(--border-radius);
    padding: 40px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.video-placeholder i {
    font-size: 4rem;
    color: var(--primary-blue);
    margin-bottom: 15px;
}

.video-placeholder h4 {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.video-placeholder p {
    font-size: 1rem;
    color: var(--text-secondary);
}

.video-completed {
    position: absolute;
    top: 15px;
    right: 15px;
    background: var(--success);
    color: white;
    padding: 8px 12px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
}

/* Post Video Questions */
.post-video-questions {
    background: var(--neutral-light);
    border-radius: var(--border-radius);
    padding: 20px;
    border-left: 4px solid var(--border-light);
}

.post-video-questions.completed {
    border-left-color: var(--success);
    background: rgba(39, 174, 96, 0.1);
}

.post-video-questions.partial {
    border-left-color: var(--warning);
    background: rgba(243, 156, 18, 0.1);
}

.post-video-questions h4 {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 15px;
}

.questions-result {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.result-score {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
}

.result-score.partial {
    color: var(--warning);
}

.result-score:not(.partial) {
    color: var(--success);
}

.review-btn,
.retry-btn {
    background: var(--primary-blue);
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 6px;
}

.review-btn:hover,
.retry-btn:hover {
    background: #357abd;
    transform: translateY(-1px);
}

.retry-btn {
    background: var(--warning);
}

.retry-btn:hover {
    background: #e67e22;
}

/* Exercise Header */
.exercise-header {
    margin-bottom: 25px;
    padding-bottom: 20px;
    border-bottom: 2px solid var(--border-light);
}

.exercise-header h4 {
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

.exercise-header p {
    font-size: 1rem;
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 15px;
}

.test-cases-summary {
    display: flex;
    align-items: center;
    gap: 20px;
    flex-wrap: wrap;
}

.cases-status {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.9rem;
    font-weight: 500;
}

.cases-status .success {
    color: var(--success);
}

.cases-status .error {
    color: var(--error);
}

.show-cases-btn {
    background: var(--neutral-light);
    color: var(--text-primary);
    border: 1px solid var(--border-light);
    padding: 8px 16px;
    border-radius: 6px;
    font-size: 0.9rem;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 6px;
    margin-left: auto;
}

.show-cases-btn:hover {
    background: var(--border-light);
    transform: translateY(-1px);
}

/* IDE Container */
.ide-container {
    background: #1e1e1e;
    border-radius: var(--border-radius);
    overflow: hidden;
    margin-bottom: 25px;
    box-shadow: var(--shadow-medium);
}

.ide-header {
    background: #2d2d30;
    padding: 12px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #3e3e42;
}

.ide-tabs {
    display: flex;
    gap: 10px;
}

.ide-tab {
    background: #3c3c3c;
    color: white;
    padding: 8px 16px;
    border-radius: 6px 6px 0 0;
    font-size: 0.9rem;
    display: flex;
    align-items: center;
    gap: 8px;
}

.ide-tab.active {
    background: #1e1e1e;
    border-bottom: 2px solid var(--java-color);
}

.ide-actions {
    display: flex;
    gap: 10px;
}

.ide-btn {
    padding: 8px 16px;
    border: none;
    border-radius: 6px;
    font-size: 0.9rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 6px;
}

.reset-btn {
    background: var(--text-secondary);
    color: white;
}

.reset-btn:hover {
    background: #6c757d;
}

.run-btn {
    background: var(--success);
    color: white;
}

.run-btn:hover {
    background: #219a52;
}

.submit-btn {
    background: var(--primary-blue);
    color: white;
}

.submit-btn:hover {
    background: #357abd;
}

/* IDE Workspace */
.ide-workspace {
    display: grid;
    grid-template-columns: 1fr 400px;
    height: 500px;
}

.code-editor {
    background: #1e1e1e;
    padding: 20px;
}

.code-editor textarea {
    width: 100%;
    height: 100%;
    background: transparent;
    color: #d4d4d4;
    border: none;
    resize: none;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 14px;
    line-height: 1.5;
    outline: none;
}

.console-output {
    background: #0d1117;
    border-left: 1px solid #3e3e42;
    display: flex;
    flex-direction: column;
}

.console-header {
    background: #161b22;
    padding: 12px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #21262d;
}

.console-header h5 {
    color: #f0f6fc;
    font-size: 0.9rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 8px;
}

.clear-console {
    background: none;
    border: none;
    color: #8b949e;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: var(--transition);
}

.clear-console:hover {
    background: #21262d;
    color: #f0f6fc;
}

.console-content {
    flex: 1;
    padding: 15px;
    overflow-y: auto;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 13px;
    line-height: 1.4;
}

.console-line {
    margin-bottom: 8px;
    display: flex;
    align-items: flex-start;
    gap: 10px;
}

.console-prompt {
    color: #8b949e;
    font-weight: 600;
    min-width: 50px;
}

.console-line.success .console-prompt {
    color: var(--success);
}

.console-line.error .console-prompt {
    color: var(--error);
}

.console-line.output span:last-child {
    color: #f0f6fc;
}

.console-line.success span:last-child {
    color: var(--success);
}

.console-line.error span:last-child {
    color: var(--error);
}

/* AI Feedback */
.ai-feedback {
    background: white;
    border-radius: var(--border-radius);
    padding: 25px;
    border: 2px solid var(--primary-blue);
    margin-top: 25px;
}

.feedback-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 1px solid var(--border-light);
}

.feedback-header i {
    font-size: 1.5rem;
    color: var(--primary-blue);
    margin-right: 12px;
}

.feedback-header h4 {
    flex: 1;
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-primary);
    display: flex;
    align-items: center;
}

.feedback-score {
    display: flex;
    align-items: center;
    gap: 12px;
}

.stars {
    display: flex;
    gap: 4px;
}

.stars i {
    font-size: 1.2rem;
    color: var(--border-light);
}

.stars i.filled {
    color: var(--accent-yellow);
}

.score-text {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.feedback-content {
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.feedback-section h5 {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 10px;
}

.feedback-section.success h5 {
    color: var(--success);
}

.feedback-section.improvement h5 {
    color: var(--warning);
}

.feedback-section.suggestion h5 {
    color: var(--primary-blue);
}

.feedback-section ul {
    list-style: none;
    padding: 0;
}

.feedback-section li {
    padding: 8px 0;
    padding-left: 20px;
    position: relative;
    color: var(--text-primary);
    line-height: 1.5;
}

.feedback-section.success li:before {
    content: "✓";
    position: absolute;
    left: 0;
    color: var(--success);
    font-weight: bold;
}

.feedback-section.improvement li:before {
    content: "•";
    position: absolute;
    left: 0;
    color: var(--warning);
    font-weight: bold;
}

.feedback-section.suggestion p {
    color: var(--text-secondary);
    line-height: 1.6;
    background: rgba(74, 144, 226, 0.1);
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid var(--primary-blue);
}

/* Locked Content */
.locked-content {
    text-align: center;
    padding: 40px;
    color: var(--text-secondary);
}

.locked-content i {
    font-size: 3rem;
    color: var(--text-secondary);
    margin-bottom: 15px;
}

.locked-content h4 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
}

/* Topic Navigation Controls */
.topic-navigation-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: white;
    border-radius: var(--border-radius);
    padding: 25px;
    margin-top: 30px;
    box-shadow: var(--shadow-light);
}

.nav-btn {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 15px 20px;
    background: var(--primary-blue);
    color: white;
    border: none;
    border-radius: var(--border-radius);
    cursor: pointer;
    transition: var(--transition);
    font-size: 0.9rem;
}

.nav-btn:hover {
    background: #357abd;
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

.nav-btn.disabled {
    background: var(--text-secondary);
    cursor: not-allowed;
    transform: none;
}

.nav-btn.disabled:hover {
    background: var(--text-secondary);
    transform: none;
    box-shadow: none;
}

.nav-btn span {
    display: flex;
    flex-direction: column;
    text-align: left;
}

.nav-btn small {
    font-size: 0.8rem;
    opacity: 0.8;
}

.nav-btn strong {
    font-weight: 600;
}

.previous-btn {
    flex-direction: row;
}

.next-btn {
    flex-direction: row-reverse;
}

.next-btn span {
    text-align: right;
}

/* Topic Progress Indicator */
.topic-progress-indicator {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.progress-circle {
    position: relative;
    width: 60px;
    height: 60px;
}

.progress-svg {
    width: 60px;
    height: 60px;
    transform: rotate(-90deg);
}

.progress-bg {
    fill: none;
    stroke: var(--border-light);
    stroke-width: 4;
}

.progress-fill {
    fill: none;
    stroke: url(#progressGradient);
    stroke-width: 4;
    stroke-linecap: round;
    stroke-dasharray: 157;
    stroke-dashoffset: 39.25; /* 75% progress */
    transition: stroke-dashoffset 0.6s ease;
}

.progress-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.9rem;
    font-weight: 700;
    color: var(--text-primary);
}

.progress-label {
    font-size: 0.8rem;
    color: var(--text-secondary);
    font-weight: 500;
}

/* Modal Styles */
.modal-overlay {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1000;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.modal-overlay.active {
    opacity: 1;
    visibility: visible;
}

.modal-container {
    background: white;
    border-radius: var(--border-radius);
    max-width: 800px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: var(--shadow-heavy);
    transform: translateY(-50px);
    transition: transform 0.3s ease;
}

.modal-overlay.active .modal-container {
    transform: translateY(0);
}

.modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20px 25px;
    border-bottom: 1px solid var(--border-light);
}

.modal-header h3 {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 1.3rem;
    font-weight: 600;
    color: var(--text-primary);
}

.modal-close {
    background: none;
    border: none;
    font-size: 1.2rem;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 5px;
    border-radius: 4px;
    transition: var(--transition);
}

.modal-close:hover {
    background: var(--neutral-light);
    color: var(--text-primary);
}

.modal-content {
    padding: 25px;
}

/* Test Cases */
.test-case {
    background: white;
    border-radius: var(--border-radius);
    padding: 20px;
    margin-bottom: 20px;
    border-left: 4px solid var(--border-light);
    transition: var(--transition);
}

.test-case:hover {
    box-shadow: var(--shadow-light);
}

.test-case.passed {
    border-left-color: var(--success);
    background: rgba(39, 174, 96, 0.05);
}

.test-case.failed {
    border-left-color: var(--error);
    background: rgba(231, 76, 60, 0.05);
}

.case-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
}

.case-status {
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
}

.test-case.passed .case-status {
    color: var(--success);
}

.test-case.failed .case-status {
    color: var(--error);
}

.case-score {
    font-size: 1.5rem;
    font-weight: bold;
}

.test-case.passed .case-score {
    color: var(--success);
}

.test-case.failed .case-score {
    color: var(--error);
}

.case-details {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.case-input,
.case-expected,
.case-actual,
.case-error {
    padding: 10px;
    border-radius: 6px;
    font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
    font-size: 0.9rem;
}

.case-input {
    background: rgba(74, 144, 226, 0.1);
    border-left: 3px solid var(--primary-blue);
}

.case-expected {
    background: rgba(39, 174, 96, 0.1);
    border-left: 3px solid var(--success);
}

.case-actual {
    background: var(--neutral-light);
    border-left: 3px solid var(--text-secondary);
}

.test-case.failed .case-actual {
    background: rgba(231, 76, 60, 0.1);
    border-left-color: var(--error);
}

.case-error {
    background: rgba(231, 76, 60, 0.1);
    border-left: 3px solid var(--error);
}

/* Achievement Modal */
.achievement-modal {
    text-align: center;
    max-width: 500px;
}

.achievement-animation {
    position: relative;
    padding: 40px;
}

.achievement-badge {
    width: 100px;
    height: 100px;
    background: linear-gradient(135deg, var(--accent-yellow), #f39c12);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 3rem;
    color: white;
    margin: 0 auto;
    box-shadow: var(--shadow-heavy);
    animation: bounceIn 0.8s ease;
}

.achievement-sparkles {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    pointer-events: none;
}

.sparkle {
    position: absolute;
    width: 8px;
    height: 8px;
    background: var(--accent-yellow);
    border-radius: 50%;
    animation: sparkle 2s infinite;
}

.sparkle:nth-child(1) {
    top: 20%;
    left: 20%;
    animation-delay: 0s;
}

.sparkle:nth-child(2) {
    top: 30%;
    right: 25%;
    animation-delay: 0.5s;
}

.sparkle:nth-child(3) {
    bottom: 25%;
    left: 30%;
    animation-delay: 1s;
}

.achievement-content h2 {
    font-size: 2rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 10px;
}

.achievement-content h3 {
    font-size: 1.5rem;
    font-weight: 600;
    color: var(--accent-yellow);
    margin-bottom: 15px;
}

.achievement-content p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 25px;
}

.achievement-rewards {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-bottom: 30px;
}

.reward-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
}

.reward-item i {
    font-size: 2rem;
    color: var(--accent-yellow);
}

.reward-item span {
    font-weight: 600;
    color: var(--text-primary);
}

.claim-btn {
    background: linear-gradient(135deg, var(--accent-yellow), #f39c12);
    color: white;
    border: none;
    padding: 15px 30px;
    border-radius: var(--border-radius);
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin: 0 auto;
}

.claim-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-medium);
}

/* Toast Notification */
.toast-notification {
    position: fixed;
    top: 20px;
    right: 20px;
    background: white;
    border-radius: var(--border-radius);
    box-shadow: var(--shadow-heavy);
    padding: 15px 20px;
    display: flex;
    align-items: center;
    gap: 12px;
    z-index: 1100;
    transform: translateX(400px);
    opacity: 0;
    transition: all 0.3s ease;
}

.toast-notification.show {
    transform: translateX(0);
    opacity: 1;
}

.toast-content {
    display: flex;
    align-items: center;
    gap: 10px;
}

.toast-icon {
    font-size: 1.2rem;
}

.toast-icon.fa-check-circle {
    color: var(--success);
}

.toast-icon.fa-exclamation-circle {
    color: var(--warning);
}

.toast-icon.fa-times-circle {
    color: var(--error);
}

.toast-icon.fa-info-circle {
    color: var(--primary-blue);
}

.toast-message {
    font-weight: 500;
    color: var(--text-primary);
}

.toast-close {
    background: none;
    border: none;
    color: var(--text-secondary);
    cursor: pointer;
    padding: 2px;
    border-radius: 2px;
    transition: var(--transition);
}

.toast-close:hover {
    background: var(--neutral-light);
    color: var(--text-primary);
}

/* Animations */
@keyframes bounceIn {
    0% {
        opacity: 0;
        transform: scale(0.3);
    }
    50% {
        opacity: 1;
        transform: scale(1.05);
    }
    70% {
        transform: scale(0.9);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes sparkle {
    0%, 100% {
        opacity: 0;
        transform: scale(0);
    }
    50% {
        opacity: 1;
        transform: scale(1);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Responsive Design */
@media (max-width: 1200px) {
    :root {
        --sidebar-width: 280px;
    }
    
    .topic-header {
        flex-direction: column;
        gap: 20px;
        align-items: flex-start;
    }
    
    .topic-stats {
        flex-wrap: wrap;
    }
}

@media (max-width: 992px) {
    .course-sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
    }
    
    .course-sidebar.mobile-open {
        transform: translateX(0);
    }
    
    .course-content {
        margin-left: 0;
        max-width: 100%;
    }
    
    .ide-workspace {
        grid-template-columns: 1fr;
        grid-template-rows: 300px 200px;
    }
    
    .nav-container {
        padding: 0 15px;
    }
    
    .breadcrumb-nav {
        display: none;
    }
}

@media (max-width: 768px) {
    .course-content {
        padding: 20px 15px;
    }
    
    .topic-header {
        padding: 20px;
    }
    
    .topic-title h1 {
        font-size: 1.5rem;
    }
    
    .topic-stats {
        gap: 10px;
    }
    
    .stat-card {
        padding: 12px;
        min-width: auto;
    }
    
    .topic-navigation-controls {
        flex-direction: column;
        gap: 20px;
        text-align: center;
    }
    
    .nav-btn {
        width: 100%;
        justify-content: center;
    }
    
    .modal-container {
        width: 95%;
        max-height: 90vh;
    }
    
    .achievement-rewards {
        flex-direction: column;
        gap: 15px;
    }
}

@media (max-width: 480px) {
    .nav-container {
        flex-direction: column;
        height: auto;
        padding: 10px 15px;
        gap: 10px;
    }
    
    .user-progress {
        display: none;
    }
    
    .course-content {
        padding: 15px 10px;
    }
    
    .section-header {
        flex-direction: column;
        gap: 15px;
        text-align: center;
    }
    
    .ide-container {
        margin: 0 -10px;
    }
    
    .feedback-content {
        gap: 15px;
    }
}
    </style>
</head>
<body>
    <!-- Navigation Header -->
    <nav class="main-nav">
        <div class="nav-container">
            <div class="nav-left">
                <div class="logo">
                    <i class="fas fa-code"></i>
                    <span>Código para Todos</span>
                </div>
                
                <!-- Breadcrumb Navigation -->
                <nav class="breadcrumb-nav">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item">
                            <a href="#" id="dashboardLink">
                                <i class="fas fa-home"></i>
                                Dashboard
                            </a>
                        </li>
                        <li class="breadcrumb-separator">
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="breadcrumb-item">
                            <a href="#" id="courseLink">
                                <i class="fab fa-java"></i>
                                Java Fundamentos
                            </a>
                        </li>
                        <li class="breadcrumb-separator">
                            <i class="fas fa-chevron-right"></i>
                        </li>
                        <li class="breadcrumb-item active">
                            <i class="fas fa-sync-alt"></i>
                            Ciclos For
                        </li>
                    </ol>
                </nav>
            </div>

            <div class="nav-right">
                <div class="user-progress">
                    <div class="progress-info">
                        <span class="progress-text">Progreso del Curso</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 60%"></div>
                        </div>
                        <span class="progress-percentage">60%</span>
                    </div>
                </div>
                
                <div class="user-profile">
                    <div class="user-avatar">
                        <img src="https://ui-avatars.com/api/?name=Ana+Garcia&background=4A90E2&color=fff" alt="Ana García">
                    </div>
                    <div class="user-info">
                        <span class="user-name">Ana García</span>
                        <span class="user-stars">127⭐</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Course Sidebar -->
        <aside class="course-sidebar">
            <div class="course-header">
                <div class="course-icon java">
                    <i class="fab fa-java"></i>
                </div>
                <div class="course-info">
                    <h3>Java Fundamentos</h3>
                    <p>6 temas • Nivel Intermedio</p>
                </div>
            </div>

            <!-- Course Objectives -->
            <div class="objectives-section">
                <button class="objectives-toggle" id="objectivesToggle">
                    <i class="fas fa-bullseye"></i>
                    <span>Objetivos del Tema</span>
                    <i class="fas fa-chevron-down toggle-icon"></i>
                </button>
                <div class="objectives-content" id="objectivesContent">
                    <div class="objective-item completed">
                        <div class="objective-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="objective-text">
                            <h4>Sintaxis básica del ciclo for</h4>
                            <p>Comprender la estructura: for(inicialización; condición; incremento)</p>
                        </div>
                    </div>
                    <div class="objective-item completed">
                        <div class="objective-icon">
                            <i class="fas fa-check"></i>
                        </div>
                        <div class="objective-text">
                            <h4>Casos de uso comunes</h4>
                            <p>Identificar cuándo usar for vs while en diferentes situaciones</p>
                        </div>
                    </div>
                    <div class="objective-item in-progress">
                        <div class="objective-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="objective-text">
                            <h4>Implementación práctica</h4>
                            <p>Crear programas funcionales usando ciclos for</p>
                        </div>
                    </div>
                    <div class="objective-item pending">
                        <div class="objective-icon">
                            <i class="fas fa-circle"></i>
                        </div>
                        <div class="objective-text">
                            <h4>Optimización y buenas prácticas</h4>
                            <p>Escribir ciclos eficientes y evitar errores comunes</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Topic Navigation -->
            <nav class="topic-navigation">
                <h4>Navegación de Temas</h4>
                <div class="topic-list">
                    <div class="topic-item completed" data-topic="variables">
                        <div class="topic-status">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="topic-info">
                            <h5>1. Variables</h5>
                            <span class="topic-progress">100%</span>
                        </div>
                    </div>
                    
                    <div class="topic-item completed" data-topic="if-else">
                        <div class="topic-status">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="topic-info">
                            <h5>2. if/else</h5>
                            <span class="topic-progress">100%</span>
                        </div>
                    </div>
                    
                    <div class="topic-item current" data-topic="for-loops">
                        <div class="topic-status">
                            <i class="fas fa-play-circle"></i>
                        </div>
                        <div class="topic-info">
                            <h5>3. Ciclos For</h5>
                            <span class="topic-progress">75%</span>
                        </div>
                        <div class="current-indicator">
                            <span>Actual</span>
                        </div>
                    </div>
                    
                    <div class="topic-item locked" data-topic="arrays">
                        <div class="topic-status">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="topic-info">
                            <h5>4. Arrays</h5>
                            <span class="topic-progress">0%</span>
                        </div>
                    </div>
                    
                    <div class="topic-item locked" data-topic="methods">
                        <div class="topic-status">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="topic-info">
                            <h5>5. Métodos</h5>
                            <span class="topic-progress">0%</span>
                        </div>
                    </div>
                    
                    <div class="topic-item locked" data-topic="oop">
                        <div class="topic-status">
                            <i class="fas fa-lock"></i>
                        </div>
                        <div class="topic-info">
                            <h5>6. POO Básico</h5>
                            <span class="topic-progress">0%</span>
                        </div>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="course-content">
            <!-- Topic Header -->
            <header class="topic-header">
                <div class="topic-title">
                    <h1>
                        <i class="fas fa-sync-alt"></i>
                        Ciclos For
                    </h1>
                    <p>Aprende a repetir acciones de forma eficiente con los ciclos for</p>
                </div>
                
                <div class="topic-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">45</span>
                            <span class="stat-label">Minutos</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">3/4</span>
                            <span class="stat-label">Secciones</span>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-info">
                            <span class="stat-number">4.2</span>
                            <span class="stat-label">Rating</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Learning Content -->
            <div class="learning-content">
                <!-- Section 1: Theoretical Video -->
                <section class="content-section completed">
                    <div class="section-header">
                        <div class="section-number">1</div>
                        <div class="section-info">
                            <h3>Video Teórico</h3>
                            <p>Fundamentos de los ciclos for</p>
                        </div>
                        <div class="section-status">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    
                    <div class="section-content">
                        <div class="video-container">
                            <div class="video-placeholder">
                                <i class="fas fa-play-circle"></i>
                                <h4>Introducción a los Ciclos For</h4>
                                <p>Duración: 8:45 min</p>
                                <div class="video-completed">
                                    <i class="fas fa-check"></i>
                                    Video completado
                                </div>
                            </div>
                        </div>
                        
                        <div class="post-video-questions completed">
                            <h4><i class="fas fa-question-circle"></i> Preguntas de Comprensión</h4>
                            <div class="questions-result">
                                <div class="result-score">
                                    <i class="fas fa-check-circle"></i>
                                    <span>3/3 correctas</span>
                                </div>
                                <button class="review-btn">
                                    <i class="fas fa-eye"></i>
                                    Revisar Respuestas
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 2: Practical Video -->
                <section class="content-section completed">
                    <div class="section-header">
                        <div class="section-number">2</div>
                        <div class="section-info">
                            <h3>Video Práctico</h3>
                            <p>Ejemplos reales de implementación</p>
                        </div>
                        <div class="section-status">
                            <i class="fas fa-check-circle"></i>
                        </div>
                    </div>
                    
                    <div class="section-content">
                        <div class="video-container">
                            <div class="video-placeholder">
                                <i class="fas fa-play-circle"></i>
                                <h4>Ejemplos Prácticos de For</h4>
                                <p>Duración: 12:30 min</p>
                                <div class="video-completed">
                                    <i class="fas fa-check"></i>
                                    Video completado
                                </div>
                            </div>
                        </div>
                        
                        <div class="post-video-questions partial">
                            <h4><i class="fas fa-question-circle"></i> Preguntas de Comprensión</h4>
                            <div class="questions-result">
                                <div class="result-score partial">
                                    <i class="fas fa-exclamation-circle"></i>
                                    <span>2/3 correctas</span>
                                </div>
                                <button class="retry-btn">
                                    <i class="fas fa-redo"></i>
                                    Reintentar
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 3: IDE Practice -->
                <section class="content-section current">
                    <div class="section-header">
                        <div class="section-number">3</div>
                        <div class="section-info">
                            <h3>Práctica en IDE</h3>
                            <p>Implementa tu primer ciclo for</p>
                        </div>
                        <div class="section-status">
                            <i class="fas fa-play-circle"></i>
                        </div>
                    </div>
                    
                    <div class="section-content">
                        <div class="exercise-header">
                            <h4>Ejercicio: Tabla de Multiplicar</h4>
                            <p>Crea un programa que genere la tabla de multiplicar de un número ingresado por el usuario</p>
                            
                            <div class="test-cases-summary">
                                <span class="cases-status">
                                    <i class="fas fa-check-circle success"></i> 2 casos pasados
                                </span>
                                <span class="cases-status">
                                    <i class="fas fa-times-circle error"></i> 2 casos fallidos
                                </span>
                                <button class="show-cases-btn" id="showCasesBtn">
                                    <i class="fas fa-list"></i>
                                    Ver Casos de Prueba
                                </button>
                            </div>
                        </div>
                        
                        <!-- IDE Container -->
                        <div class="ide-container">
                            <div class="ide-header">
                                <div class="ide-tabs">
                                    <div class="ide-tab active">
                                        <i class="fab fa-java"></i>
                                        TablaMultiplicar.java
                                    </div>
                                </div>
                                <div class="ide-actions">
                                    <button class="ide-btn reset-btn" id="resetCode">
                                        <i class="fas fa-undo"></i>
                                        Reset
                                    </button>
                                    <button class="ide-btn run-btn" id="runCode">
                                        <i class="fas fa-play"></i>
                                        Ejecutar
                                    </button>
                                    <button class="ide-btn submit-btn" id="submitCode">
                                        <i class="fas fa-paper-plane"></i>
                                        Enviar para Evaluación
                                    </button>
                                </div>
                            </div>
                            
                            <div class="ide-workspace">
                                <div class="code-editor">
                                    <textarea id="codeEditor" placeholder="// Escribe tu código aquí
import java.util.Scanner;

public class TablaMultiplicar {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Tu código aquí
        
    }
}">import java.util.Scanner;

public class TablaMultiplicar {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Ingresa un número: ");
        int numero = scanner.nextInt();
        
        for (int i = 1; i <= 10; i++) {
            int resultado = numero * i;
            System.out.println(numero + " x " + i + " = " + resultado);
        }
    }
}</textarea>
                                </div>
                                
                                <div class="console-output">
                                    <div class="console-header">
                                        <h5><i class="fas fa-terminal"></i> Consola</h5>
                                        <button class="clear-console" id="clearConsole">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                    <div class="console-content" id="consoleOutput">
                                        <div class="console-line success">
                                            <span class="console-prompt">[INFO]</span>
                                            <span>Código compilado exitosamente</span>
                                        </div>
                                        <div class="console-line output">
                                            <span class="console-prompt">[OUT]</span>
                                            <span>Ingresa un número: 5</span>
                                        </div>
                                        <div class="console-line output">
                                            <span class="console-prompt">[OUT]</span>
                                            <span>5 x 1 = 5</span>
                                        </div>
                                        <div class="console-line output">
                                            <span class="console-prompt">[OUT]</span>
                                            <span>5 x 2 = 10</span>
                                        </div>
                                        <div class="console-line output">
                                            <span class="console-prompt">[OUT]</span>
                                            <span>...</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- AI Feedback Section -->
                        <div class="ai-feedback" id="aiFeedback">
                            <div class="feedback-header">
                                <i class="fas fa-robot"></i>
                                <h4>Evaluación con IA</h4>
                                <div class="feedback-score">
                                    <div class="stars">
                                        <i class="fas fa-star filled"></i>
                                        <i class="fas fa-star filled"></i>
                                        <i class="fas fa-star filled"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <span class="score-text">3/5 estrellas</span>
                                </div>
                            </div>
                            <div class="feedback-content">
                                <div class="feedback-section success">
                                    <h5><i class="fas fa-check"></i> Aspectos Positivos</h5>
                                    <ul>
                                        <li>Sintaxis correcta del ciclo for</li>
                                        <li>Uso adecuado de Scanner para entrada</li>
                                        <li>Lógica de multiplicación implementada correctamente</li>
                                    </ul>
                                </div>
                                <div class="feedback-section improvement">
                                    <h5><i class="fas fa-exclamation-triangle"></i> Áreas de Mejora</h5>
                                    <ul>
                                        <li>Agregar validación para números negativos</li>
                                        <li>Considera cerrar el Scanner al final</li>
                                        <li>Mejorar el formato de salida para mayor claridad</li>
                                    </ul>
                                </div>
                                <div class="feedback-section suggestion">
                                    <h5><i class="fas fa-lightbulb"></i> Sugerencias</h5>
                                    <p>Excelente primer intento. Para obtener 5 estrellas, implementa las validaciones sugeridas y considera casos edge como el número 0.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Section 4: Final Exercises -->
                <section class="content-section locked">
                    <div class="section-header">
                        <div class="section-number">4</div>
                        <div class="section-info">
                            <h3>Ejercicios de Evaluación</h3>
                            <p>Demuestra tu dominio de los ciclos for</p>
                        </div>
                        <div class="section-status">
                            <i class="fas fa-lock"></i>
                        </div>
                    </div>
                    
                    <div class="section-content">
                        <div class="locked-content">
                            <i class="fas fa-lock"></i>
                            <h4>Completa la sección anterior para desbloquear</h4>
                            <p>Necesitas pasar todos los casos de prueba del IDE para acceder a los ejercicios finales</p>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Navigation Controls -->
            <div class="topic-navigation-controls">
                <button class="nav-btn previous-btn" id="previousTopic">
                    <i class="fas fa-chevron-left"></i>
                    <span>
                        <small>Anterior</small>
                        <strong>if/else</strong>
                    </span>
                </button>
                
                <div class="topic-progress-indicator">
                    <div class="progress-circle" data-progress="75">
                        <svg class="progress-svg">
                            <circle class="progress-bg" cx="30" cy="30" r="25"></circle>
                            <circle class="progress-fill" cx="30" cy="30" r="25"></circle>
                        </svg>
                        <span class="progress-text">75%</span>
                    </div>
                    <span class="progress-label">Progreso del Tema</span>
                </div>
                
                <button class="nav-btn next-btn disabled" id="nextTopic">
                    <span>
                        <small>Siguiente</small>
                        <strong>Arrays</strong>
                    </span>
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </main>
    </div>

    <!-- Test Cases Modal -->
    <div class="modal-overlay" id="testCasesModal">
        <div class="modal-container">
            <div class="modal-header">
                <h3><i class="fas fa-list-check"></i> Casos de Prueba</h3>
                <button class="modal-close" id="closeTestCases">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-content">
                <div class="test-case passed">
                    <div class="case-header">
                        <div class="case-status">
                            <i class="fas fa-check-circle"></i>
                            <span>Caso 1 - Pasado</span>
                        </div>
                        <div class="case-score">✓</div>
                    </div>
                    <div class="case-details">
                        <div class="case-input">
                            <strong>Entrada:</strong> 5
                        </div>
                        <div class="case-expected">
                            <strong>Salida Esperada:</strong> 5 x 1 = 5, 5 x 2 = 10, ..., 5 x 10 = 50
                        </div>
                        <div class="case-actual">
                            <strong>Tu Salida:</strong> 5 x 1 = 5, 5 x 2 = 10, ..., 5 x 10 = 50
                        </div>
                    </div>
                </div>
                
                <div class="test-case passed">
                    <div class="case-header">
                        <div class="case-status">
                            <i class="fas fa-check-circle"></i>
                            <span>Caso 2 - Pasado</span>
                        </div>
                        <div class="case-score">✓</div>
                    </div>
                    <div class="case-details">
                        <div class="case-input">
                            <strong>Entrada:</strong> 3
                        </div>
                        <div class="case-expected">
                            <strong>Salida Esperada:</strong> 3 x 1 = 3, 3 x 2 = 6, ..., 3 x 10 = 30
                        </div>
                        <div class="case-actual">
                            <strong>Tu Salida:</strong> 3 x 1 = 3, 3 x 2 = 6, ..., 3 x 10 = 30
                        </div>
                    </div>
                </div>
                
                <div class="test-case failed">
                    <div class="case-header">
                        <div class="case-status">
                            <i class="fas fa-times-circle"></i>
                            <span>Caso 3 - Fallido</span>
                        </div>
                        <div class="case-score">✗</div>
                    </div>
                    <div class="case-details">
                        <div class="case-input">
                            <strong>Entrada:</strong> 0
                        </div>
                        <div class="case-expected">
                            <strong>Salida Esperada:</strong> 0 x 1 = 0, 0 x 2 = 0, ..., 0 x 10 = 0
                        </div>
                        <div class="case-actual">
                            <strong>Tu Salida:</strong> [Sin manejo para 0]
                        </div>
                        <div class="case-error">
                            <strong>Error:</strong> No se maneja correctamente el caso cuando el número es 0
                        </div>
                    </div>
                </div>
                
                <div class="test-case failed">
                    <div class="case-header">
                        <div class="case-status">
                            <i class="fas fa-times-circle"></i>
                            <span>Caso 4 - Fallido</span>
                        </div>
                        <div class="case-score">✗</div>
                    </div>
                    <div class="case-details">
                        <div class="case-input">
                            <strong>Entrada:</strong> -2
                        </div>
                        <div class="case-expected">
                            <strong>Salida Esperada:</strong> Error: "Por favor ingresa un número positivo"
                        </div>
                        <div class="case-actual">
                            <strong>Tu Salida:</strong> -2 x 1 = -2, -2 x 2 = -4, ..., -2 x 10 = -20
                        </div>
                        <div class="case-error">
                            <strong>Error:</strong> Falta validación para números negativos
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Achievement Modal -->
    <div class="modal-overlay" id="achievementModal">
        <div class="modal-container achievement-modal">
            <div class="achievement-animation">
                <div class="achievement-badge">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="achievement-sparkles">
                    <div class="sparkle"></div>
                    <div class="sparkle"></div>
                    <div class="sparkle"></div>
                </div>
            </div>
            <div class="achievement-content">
                <h2>¡Felicitaciones!</h2>
                <h3>Loop Master</h3>
                <p>Has completado todos los ejercicios de Ciclos For</p>
                <div class="achievement-rewards">
                    <div class="reward-item">
                        <i class="fas fa-star"></i>
                        <span>+50 Estrellas</span>
                    </div>
                    <div class="reward-item">
                        <i class="fas fa-medal"></i>
                        <span>Badge Especial</span>
                    </div>
                </div>
                <button class="claim-btn" id="claimAchievement">
                    <i class="fas fa-gift"></i>
                    Reclamar Recompensa
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast-notification" id="toastNotification">
        <div class="toast-content">
            <i class="toast-icon fas fa-check-circle"></i>
            <span class="toast-message">Acción completada exitosamente</span>
        </div>
        <button class="toast-close">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <script>
        /* JavaScript será copiado aquí */
        // Course View JavaScript - Copiar en etiqueta <script>

// Variables globales para course-view
let currentTopic = {
    id: 'for-loops',
    name: 'Ciclos For',
    progress: 75,
    completedSections: 2,
    totalSections: 4,
    currentSection: 3
};

let courseProgress = {
    'java-fundamentals': {
        totalTopics: 6,
        completedTopics: 2,
        currentTopic: 'for-loops',
        overallProgress: 60,
        topics: {
            'variables': { completed: true, progress: 100 },
            'if-else': { completed: true, progress: 100 },
            'for-loops': { completed: false, progress: 75 },
            'arrays': { completed: false, progress: 0, locked: true },
            'methods': { completed: false, progress: 0, locked: true },
            'oop': { completed: false, progress: 0, locked: true }
        }
    }
};

let studentData = {
    name: 'Ana García Hernández',
    level: 'Intermedio',
    totalStars: 127,
    courseName: 'Java Fundamentos',
    currentStreak: 7
};

let ideData = {
    currentCode: `import java.util.Scanner;

public class TablaMultiplicar {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        System.out.print("Ingresa un número: ");
        int numero = scanner.nextInt();
        
        for (int i = 1; i <= 10; i++) {
            int resultado = numero * i;
            System.out.println(numero + " x " + i + " = " + resultado);
        }
    }
}`,
    testCases: [
        {
            id: 1,
            input: '5',
            expected: '5 x 1 = 5, 5 x 2 = 10, ..., 5 x 10 = 50',
            actual: '5 x 1 = 5, 5 x 2 = 10, ..., 5 x 10 = 50',
            status: 'passed'
        },
        {
            id: 2,
            input: '3',
            expected: '3 x 1 = 3, 3 x 2 = 6, ..., 3 x 10 = 30',
            actual: '3 x 1 = 3, 3 x 2 = 6, ..., 3 x 10 = 30',
            status: 'passed'
        },
        {
            id: 3,
            input: '0',
            expected: '0 x 1 = 0, 0 x 2 = 0, ..., 0 x 10 = 0',
            actual: '[Sin manejo para 0]',
            status: 'failed',
            error: 'No se maneja correctamente el caso cuando el número es 0'
        },
        {
            id: 4,
            input: '-2',
            expected: 'Error: "Por favor ingresa un número positivo"',
            actual: '-2 x 1 = -2, -2 x 2 = -4, ..., -2 x 10 = -20',
            status: 'failed',
            error: 'Falta validación para números negativos'
        }
    ],
    aiEvaluation: {
        score: 3,
        maxScore: 5,
        feedback: {
            positive: [
                'Sintaxis correcta del ciclo for',
                'Uso adecuado de Scanner para entrada',
                'Lógica de multiplicación implementada correctamente'
            ],
            improvements: [
                'Agregar validación para números negativos',
                'Considera cerrar el Scanner al final',
                'Mejorar el formato de salida para mayor claridad'
            ],
            suggestion: 'Excelente primer intento. Para obtener 5 estrellas, implementa las validaciones sugeridas y considera casos edge como el número 0.'
        }
    }
};

// Inicialización del sistema
document.addEventListener('DOMContentLoaded', function() {
    initializeCourseView();
    setupEventListeners();
    updateProgress();
    console.log('🎯 Course View inicializado');
});

function initializeCourseView() {
    // Inicializar datos de progreso
    updateProgressCircle();
    updateTopicProgress();
    initializeObjectives();
    
    // Configurar IDE
    initializeIDE();
    
    // Mostrar feedback de IA si existe
    displayAIFeedback();
}

function setupEventListeners() {
    // Navegación de breadcrumb
    document.getElementById('dashboardLink')?.addEventListener('click', (e) => {
        e.preventDefault();
        navigateTo('dashboard');
    });
    
    document.getElementById('courseLink')?.addEventListener('click', (e) => {
        e.preventDefault();
        navigateTo('course-activities');
    });

    // Toggle de objetivos
    document.getElementById('objectivesToggle')?.addEventListener('click', toggleObjectives);

    // Navegación de temas
    document.querySelectorAll('.topic-item').forEach(item => {
        item.addEventListener('click', handleTopicClick);
    });

    // Controles de navegación
    document.getElementById('previousTopic')?.addEventListener('click', navigateToPreviousTopic);
    document.getElementById('nextTopic')?.addEventListener('click', navigateToNextTopic);

    // IDE controls
    document.getElementById('resetCode')?.addEventListener('click', resetCode);
    document.getElementById('runCode')?.addEventListener('click', runCode);
    document.getElementById('submitCode')?.addEventListener('click', submitCodeForEvaluation);
    document.getElementById('clearConsole')?.addEventListener('click', clearConsole);

    // Modal controls
    document.getElementById('showCasesBtn')?.addEventListener('click', showTestCasesModal);
    document.getElementById('closeTestCases')?.addEventListener('click', closeTestCasesModal);
    document.getElementById('claimAchievement')?.addEventListener('click', claimAchievement);

    // Botones de retry/review
    document.querySelectorAll('.retry-btn').forEach(btn => {
        btn.addEventListener('click', retryQuestions);
    });
    
    document.querySelectorAll('.review-btn').forEach(btn => {
        btn.addEventListener('click', reviewAnswers);
    });
}

// Gestión de objetivos
function initializeObjectives() {
    const objectivesContent = document.getElementById('objectivesContent');
    if (objectivesContent) {
        // Los objetivos se cargan desde el HTML, aquí podemos animarlos
        setTimeout(() => {
            objectivesContent.classList.add('expanded');
        }, 500);
    }
}

function toggleObjectives() {
    const toggle = document.getElementById('objectivesToggle');
    const content = document.getElementById('objectivesContent');
    
    if (content && toggle) {
        const isExpanded = content.classList.contains('expanded');
        
        if (isExpanded) {
            content.classList.remove('expanded');
            toggle.classList.remove('expanded');
        } else {
            content.classList.add('expanded');
            toggle.classList.add('expanded');
        }
    }
}

// Navegación de temas
function handleTopicClick(event) {
    const topicItem = event.currentTarget;
    const topicId = topicItem.getAttribute('data-topic');
    
    if (topicItem.classList.contains('locked')) {
        showNotification('Este tema está bloqueado. Completa el tema actual primero.', 'warning');
        return;
    }
    
    if (topicItem.classList.contains('current')) {
        showNotification('Ya estás en este tema', 'info');
        return;
    }
    
    navigateToTopic(topicId);
}

function navigateToTopic(topicId) {
    showNotification(`Navegando a tema: ${getTopicName(topicId)}`, 'success');
    
    setTimeout(() => {
        console.log(`Navegando a tema: ${topicId}`);
        // Aquí se haría la navegación real
        // window.location.href = `course-view.html?topic=${topicId}`;
    }, 1000);
}

function navigateToPreviousTopic() {
    const previousTopic = getPreviousTopic(currentTopic.id);
    if (previousTopic) {
        navigateToTopic(previousTopic);
    }
}

function navigateToNextTopic() {
    const nextTopicBtn = document.getElementById('nextTopic');
    if (nextTopicBtn.classList.contains('disabled')) {
        showNotification('Completa todas las secciones del tema actual para continuar', 'warning');
        return;
    }
    
    const nextTopic = getNextTopic(currentTopic.id);
    if (nextTopic) {
        navigateToTopic(nextTopic);
    }
}

// Gestión del IDE
function initializeIDE() {
    const codeEditor = document.getElementById('codeEditor');
    if (codeEditor) {
        codeEditor.value = ideData.currentCode;
        
        // Simular syntax highlighting básico
        codeEditor.addEventListener('input', handleCodeChange);
        codeEditor.addEventListener('scroll', syncLineNumbers);
    }
}

function handleCodeChange(event) {
    ideData.currentCode = event.target.value;
    
    // Simular análisis de código en tiempo real
    const lines = event.target.value.split('\n').length;
    console.log(`Código actualizado: ${lines} líneas`);
}

function resetCode() {
    const codeEditor = document.getElementById('codeEditor');
    const originalCode = `import java.util.Scanner;

public class TablaMultiplicar {
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        
        // Tu código aquí
        
    }
}`;
    
    if (codeEditor) {
        codeEditor.value = originalCode;
        ideData.currentCode = originalCode;
        clearConsole();
        showNotification('Código restablecido', 'info');
    }
}

function runCode() {
    const consoleOutput = document.getElementById('consoleOutput');
    if (!consoleOutput) return;
    
    // Simular compilación y ejecución
    showNotification('Ejecutando código...', 'info');
    
    setTimeout(() => {
        const mockOutput = generateMockOutput();
        displayConsoleOutput(mockOutput);
        showNotification('Código ejecutado exitosamente', 'success');
    }, 1500);
}

function submitCodeForEvaluation() {
    showNotification('Enviando código para evaluación con IA...', 'info');
    
    // Simular evaluación con IA
    setTimeout(() => {
        performAIEvaluation();
        showNotification('Evaluación completada', 'success');
    }, 2000);
}

function performAIEvaluation() {
    const aiFeedback = document.getElementById('aiFeedback');
    if (aiFeedback) {
        aiFeedback.style.display = 'block';
        aiFeedback.scrollIntoView({ behavior: 'smooth' });
        
        // Animar la aparición del feedback
        aiFeedback.style.opacity = '0';
        aiFeedback.style.transform = 'translateY(20px)';
        
        setTimeout(() => {
            aiFeedback.style.transition = 'all 0.5s ease';
            aiFeedback.style.opacity = '1';
            aiFeedback.style.transform = 'translateY(0)';
        }, 100);
    }
    
    // Actualizar casos de prueba
    updateTestCaseResults();
}

function displayAIFeedback() {
    // El feedback ya está en el HTML, aquí podríamos actualizarlo dinámicamente
    const evaluation = ideData.aiEvaluation;
    
    // Actualizar estrellas
    const stars = document.querySelectorAll('.ai-feedback .stars i');
    stars.forEach((star, index) => {
        if (index < evaluation.score) {
            star.classList.add('filled');
        } else {
            star.classList.remove('filled');
        }
    });
}

function clearConsole() {
    const consoleOutput = document.getElementById('consoleOutput');
    if (consoleOutput) {
        consoleOutput.innerHTML = '';
        showNotification('Consola limpiada', 'info');
    }
}

function generateMockOutput() {
    return [
        { type: 'success', prompt: '[INFO]', message: 'Código compilado exitosamente' },
        { type: 'output', prompt: '[OUT]', message: 'Ingresa un número: 5' },
        { type: 'output', prompt: '[OUT]', message: '5 x 1 = 5' },
        { type: 'output', prompt: '[OUT]', message: '5 x 2 = 10' },
        { type: 'output', prompt: '[OUT]', message: '5 x 3 = 15' },
        { type: 'output', prompt: '[OUT]', message: '...' },
        { type: 'output', prompt: '[OUT]', message: '5 x 10 = 50' },
        { type: 'success', prompt: '[INFO]', message: 'Programa ejecutado exitosamente' }
    ];
}

function displayConsoleOutput(outputLines) {
    const consoleOutput = document.getElementById('consoleOutput');
    if (!consoleOutput) return;
    
    // Limpiar consola anterior
    consoleOutput.innerHTML = '';
    
    // Agregar líneas una por una con animación
    outputLines.forEach((line, index) => {
        setTimeout(() => {
            const lineElement = document.createElement('div');
            lineElement.className = `console-line ${line.type}`;
            lineElement.innerHTML = `
                <span class="console-prompt">${line.prompt}</span>
                <span>${line.message}</span>
            `;
            consoleOutput.appendChild(lineElement);
            
            // Auto-scroll al final
            consoleOutput.scrollTop = consoleOutput.scrollHeight;
        }, index * 200);
    });
}

// Gestión de casos de prueba
function updateTestCaseResults() {
    const passedCases = ideData.testCases.filter(tc => tc.status === 'passed').length;
    const failedCases = ideData.testCases.filter(tc => tc.status === 'failed').length;
    
    // Actualizar resumen de casos
    const summaryContainer = document.querySelector('.test-cases-summary');
    if (summaryContainer) {
        const passedElement = summaryContainer.querySelector('.cases-status .success').parentElement;
        const failedElement = summaryContainer.querySelector('.cases-status .error').parentElement;
        
        if (passedElement) {
            passedElement.innerHTML = `<i class="fas fa-check-circle success"></i> ${passedCases} casos pasados`;
        }
        
        if (failedElement) {
            failedElement.innerHTML = `<i class="fas fa-times-circle error"></i> ${failedCases} casos fallidos`;
        }
    }
    
    // Verificar si se completa el tema
    if (failedCases === 0) {
        setTimeout(() => {
            showAchievementModal();
        }, 2000);
    }
}

function showTestCasesModal() {
    const modal = document.getElementById('testCasesModal');
    if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
    }
}

function closeTestCasesModal() {
    const modal = document.getElementById('testCasesModal');
    if (modal) {
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
    }
}

function showAchievementModal() {
    const modal = document.getElementById('achievementModal');
    if (modal) {
        modal.classList.add('active');
        document.body.style.overflow = 'hidden';
        
        // Animar achievement badge
        const badge = modal.querySelector('.achievement-badge');
        if (badge) {
            badge.style.animation = 'bounceIn 0.8s ease';
        }
        
        // Actualizar datos del estudiante
        studentData.totalStars += 50;
        updateUserStars();
    }
}

function claimAchievement() {
    const modal = document.getElementById('achievementModal');
    if (modal) {
        showNotification('¡Recompensa reclamada! +50 estrellas', 'success');
        modal.classList.remove('active');
        document.body.style.overflow = 'auto';
        
        // Actualizar progreso del tema
        currentTopic.progress = 100;
        courseProgress['java-fundamentals'].topics['for-loops'].completed = true;
        courseProgress['java-fundamentals'].topics['for-loops'].progress = 100;
        
        // Desbloquear siguiente tema
        courseProgress['java-fundamentals'].topics['arrays'].locked = false;
        
        updateProgress();
        updateTopicNavigation();
        
        // Habilitar botón de siguiente tema
        const nextBtn = document.getElementById('nextTopic');
        if (nextBtn) {
            nextBtn.classList.remove('disabled');
        }
    }
}

// Gestión de preguntas post-video
function retryQuestions() {
    showNotification('Reintentando preguntas...', 'info');
    
    setTimeout(() => {
        // Simular retry exitoso
        const partialQuestions = document.querySelector('.post-video-questions.partial');
        if (partialQuestions) {
            partialQuestions.classList.remove('partial');
            partialQuestions.classList.add('completed');
            
            const resultScore = partialQuestions.querySelector('.result-score');
            if (resultScore) {
                resultScore.classList.remove('partial');
                resultScore.innerHTML = `
                    <i class="fas fa-check-circle"></i>
                    <span>3/3 correctas</span>
                `;
            }
            
            const retryBtn = partialQuestions.querySelector('.retry-btn');
            if (retryBtn) {
                retryBtn.outerHTML = `
                    <button class="review-btn">
                        <i class="fas fa-eye"></i>
                        Revisar Respuestas
                    </button>
                `;
            }
        }
        
        showNotification('¡Excelente! Todas las respuestas correctas', 'success');
    }, 1500);
}

function reviewAnswers() {
    showNotification('Mostrando revisión de respuestas...', 'info');
    // Aquí se abriría un modal con las preguntas y respuestas
}

// Actualización de progreso
function updateProgress() {
    updateProgressCircle();
    updateTopicProgress();
    updateUserStars();
}

function updateProgressCircle() {
    const progressCircle = document.querySelector('.progress-circle');
    const progressFill = progressCircle?.querySelector('.progress-fill');
    const progressText = progressCircle?.querySelector('.progress-text');
    
    if (progressFill && progressText) {
        const progress = currentTopic.progress;
        const circumference = 157; // 2 * π * 25 (radio del círculo)
        const offset = circumference - (progress / 100) * circumference;
        
        progressFill.style.strokeDashoffset = offset;
        progressText.textContent = `${progress}%`;
    }
}

function updateTopicProgress() {
    // Actualizar progreso en navegación lateral
    const currentTopicItem = document.querySelector('.topic-item.current .topic-progress');
    if (currentTopicItem) {
        currentTopicItem.textContent = `${currentTopic.progress}%`;
    }
    
    // Actualizar progreso en header
    const navProgressFill = document.querySelector('.nav-right .progress-fill');
    if (navProgressFill) {
        navProgressFill.style.width = `${courseProgress['java-fundamentals'].overallProgress}%`;
    }
    
    const navProgressText = document.querySelector('.nav-right .progress-percentage');
    if (navProgressText) {
        navProgressText.textContent = `${courseProgress['java-fundamentals'].overallProgress}%`;
    }
}

function updateUserStars() {
    const userStarsElement = document.querySelector('.user-stars');
    if (userStarsElement) {
        userStarsElement.textContent = `${studentData.totalStars}⭐`;
    }
}

function updateTopicNavigation() {
    // Actualizar estado de temas en navegación lateral
    Object.keys(courseProgress['java-fundamentals'].topics).forEach(topicId => {
        const topic = courseProgress['java-fundamentals'].topics[topicId];
        const topicItem = document.querySelector(`[data-topic="${topicId}"]`);
        
        if (topicItem) {
            // Remover clases existentes
            topicItem.classList.remove('completed', 'current', 'locked');
            
            // Agregar clase apropiada
            if (topic.completed) {
                topicItem.classList.add('completed');
            } else if (topicId === currentTopic.id) {
                topicItem.classList.add('current');
            } else if (topic.locked) {
                topicItem.classList.add('locked');
            }
            
            // Actualizar progreso
            const progressElement = topicItem.querySelector('.topic-progress');
            if (progressElement) {
                progressElement.textContent = `${topic.progress}%`;
            }
        }
    });
}

// Utilidades de navegación
function navigateTo(page) {
    showNotification(`Navegando a ${page}...`, 'info');
    
    setTimeout(() => {
        console.log(`Navegando a: ${page}`);
        // Aquí se haría la navegación real
        // window.location.href = `${page}.html`;
    }, 1000);
}

function getTopicName(topicId) {
    const topicNames = {
        'variables': 'Variables',
        'if-else': 'if/else',
        'for-loops': 'Ciclos For',
        'arrays': 'Arrays',
        'methods': 'Métodos',
        'oop': 'POO Básico'
    };
    return topicNames[topicId] || topicId;
}

function getPreviousTopic(currentTopicId) {
    const topics = ['variables', 'if-else', 'for-loops', 'arrays', 'methods', 'oop'];
    const currentIndex = topics.indexOf(currentTopicId);
    return currentIndex > 0 ? topics[currentIndex - 1] : null;
}

function getNextTopic(currentTopicId) {
    const topics = ['variables', 'if-else', 'for-loops', 'arrays', 'methods', 'oop'];
    const currentIndex = topics.indexOf(currentTopicId);
    return currentIndex < topics.length - 1 ? topics[currentIndex + 1] : null;
}

// Sistema de notificaciones
function showNotification(message, type = 'info') {
    const toast = document.getElementById('toastNotification');
    if (!toast) return;
    
    const toastIcon = toast.querySelector('.toast-icon');
    const toastMessage = toast.querySelector('.toast-message');
    
    // Actualizar contenido
    toastMessage.textContent = message;
    
    // Actualizar icono según tipo
    toastIcon.className = 'toast-icon fas';
    switch (type) {
        case 'success':
            toastIcon.classList.add('fa-check-circle');
            break;
        case 'warning':
            toastIcon.classList.add('fa-exclamation-circle');
            break;
        case 'error':
            toastIcon.classList.add('fa-times-circle');
            break;
        default:
            toastIcon.classList.add('fa-info-circle');
    }
    
    // Mostrar toast
    toast.classList.add('show');
    
    // Auto-ocultar después de 3 segundos
    setTimeout(() => {
        toast.classList.remove('show');
    }, 3000);
    
    // Configurar botón de cerrar
    const closeBtn = toast.querySelector('.toast-close');
    closeBtn.onclick = () => {
        toast.classList.remove('show');
    };
}

// Manejo de teclado
document.addEventListener('keydown', function(event) {
    // ESC para cerrar modales
    if (event.key === 'Escape') {
        const activeModal = document.querySelector('.modal-overlay.active');
        if (activeModal) {
            activeModal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    }
    
    // Ctrl+Enter para ejecutar código
    if (event.ctrlKey && event.key === 'Enter') {
        const codeEditor = document.getElementById('codeEditor');
        if (codeEditor === document.activeElement) {
            event.preventDefault();
            runCode();
        }
    }
    
    // Ctrl+S para enviar código
    if (event.ctrlKey && event.key === 's') {
        const codeEditor = document.getElementById('codeEditor');
        if (codeEditor === document.activeElement) {
            event.preventDefault();
            submitCodeForEvaluation();
        }
    }
});

// Sync line numbers (funcionalidad futura)
function syncLineNumbers() {
    // Placeholder para sincronización de números de línea
    // Se implementaría con un editor más avanzado como Monaco
}

// Auto-save del código (cada 30 segundos)
setInterval(() => {
    const codeEditor = document.getElementById('codeEditor');
    if (codeEditor && codeEditor.value !== ideData.currentCode) {
        ideData.currentCode = codeEditor.value;
        console.log('Código guardado automáticamente');
    }
}, 30000);

// Gestión de responsive design
function handleResponsiveLayout() {
    const sidebar = document.querySelector('.course-sidebar');
    const toggleBtn = document.getElementById('sidebarToggle');
    
    if (window.innerWidth <= 992 && sidebar && toggleBtn) {
        toggleBtn.addEventListener('click', () => {
            sidebar.classList.toggle('mobile-open');
        });
    }
}

// Inicializar responsive features
window.addEventListener('resize', handleResponsiveLayout);
handleResponsiveLayout();

// Prevenir cierre accidental
window.addEventListener('beforeunload', function(event) {
    if (ideData.currentCode.trim().length > 100) {
        const message = '¿Estás seguro de que quieres salir? Podrías perder el progreso no guardado.';
        event.returnValue = message;
        return message;
    }
});

// Analytics tracking (simulado)
function trackUserActivity(action, data = {}) {
    console.log(`📊 Analytics: ${action}`, data);
    
    // Aquí se enviarían datos al backend para analytics
    const analyticsData = {
        action,
        timestamp: new Date().toISOString(),
        user: studentData.name,
        topic: currentTopic.id,
        ...data
    };
    
    // Simular envío a backend
    // fetch('/api/analytics', { method: 'POST', body: JSON.stringify(analyticsData) });
}

// Tracking de actividades importantes
function setupAnalyticsTracking() {
    // Track tiempo en página
    const startTime = Date.now();
    
    window.addEventListener('beforeunload', () => {
        const timeSpent = Math.round((Date.now() - startTime) / 1000);
        trackUserActivity('time_spent', { seconds: timeSpent });
    });
    
    // Track interacciones con IDE
    document.getElementById('runCode')?.addEventListener('click', () => {
        trackUserActivity('code_executed');
    });
    
    document.getElementById('submitCode')?.addEventListener('click', () => {
        trackUserActivity('code_submitted');
    });
    
    // Track navegación de temas
    document.querySelectorAll('.topic-item').forEach(item => {
        item.addEventListener('click', () => {
            const topicId = item.getAttribute('data-topic');
            trackUserActivity('topic_navigation', { targetTopic: topicId });
        });
    });
}

// Inicializar tracking
setupAnalyticsTracking();

// Log de inicialización exitosa
console.log('🚀 Course View completamente inicializado');
console.log('📚 Datos del curso:', courseProgress);
console.log('👤 Datos del estudiante:', studentData);
console.log('💻 Estado del IDE:', ideData);
    </script>
</body>
</html>